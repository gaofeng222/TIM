"use strict";(self["webpackChunkchat_example"]=self["webpackChunkchat_example"]||[]).push([[658],{8239:function(e,t,o){o.d(t,{U2:function(){return a},t8:function(){return n}});const n=(e,t)=>{"object"===typeof t?localStorage.setItem(e,JSON.stringify(t)):localStorage.setItem(e,t)},a=e=>localStorage.getItem(e)},4570:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});o(7658);var n=o(311),a=o(8243),l=o(6636),r=o(396),c=o(8239);const d=e=>((0,n.pushScopeId)("data-v-a4af5de0"),e=e(),(0,n.popScopeId)(),e),u={class:"login-main"},s={class:"form-box"},m=d((()=>(0,n.createElementVNode)("h1",null,"IM聊天系统登录",-1)));var p=(0,n.defineComponent)({__name:"index",setup(e){const t=(0,n.reactive)({form:{name:"",pwd:""}}),o=(0,a.useRouter)(),d=(0,r.h)({SDKAppID:l.OJ,secretKey:l.IY,userID:t.form.name}).userSig,p=(0,n.inject)("app"),i=()=>{console.log("enter");let e=p.config.globalProperties.tim.login({userID:t.form.name,userSig:d});(0,c.t8)("token",t.form.name),e.then((function(e){console.log("success",e.data),!0===e.data.repeatLogin&&console.log(e.data.errorInfo)})).catch((function(e){console.warn("login error:",e)})),o.push("/chat")},{form:f}=(0,n.toRefs)(t);return(e,t)=>{const o=(0,n.resolveComponent)("el-input"),a=(0,n.resolveComponent)("el-form-item"),l=(0,n.resolveComponent)("el-button"),r=(0,n.resolveComponent)("el-form");return(0,n.openBlock)(),(0,n.createElementBlock)("div",u,[(0,n.createElementVNode)("div",s,[m,(0,n.createVNode)(r,{model:(0,n.unref)(f),"label-width":"10px"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(a,{label:" "},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(o,{modelValue:(0,n.unref)(f).name,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,n.unref)(f).name=e),clearable:""},null,8,["modelValue"])])),_:1}),(0,n.createVNode)(a,{label:" "},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(o,{modelValue:(0,n.unref)(f).pwd,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,n.unref)(f).pwd=e),type:"password","show-password":""},null,8,["modelValue"])])),_:1}),(0,n.createVNode)(a,null,{default:(0,n.withCtx)((()=>[(0,n.createVNode)(l,{type:"primary",onClick:i,style:{width:"100%",height:"40px"}},{default:(0,n.withCtx)((()=>[(0,n.createTextVNode)("登录")])),_:1})])),_:1})])),_:1},8,["model"])])])}}}),i=o(3744);const f=(0,i.Z)(p,[["__scopeId","data-v-a4af5de0"]]);var h=f}}]);