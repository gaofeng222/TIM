"use strict";(self["webpackChunkchat_example"]=self["webpackChunkchat_example"]||[]).push([[860],{5916:function(e,t,a){a.d(t,{Z:function(){return En}});var n=a(311),l=a(1149),r=a(4720),o=a(3730),u=a(9458),i=a(6384),s=a(2790),c=a(4855),d=a(7926),m=a(7811),p=a(701),v=a(3261),f=a(9229),y=a(3855),k=a(3411),h=a(9839),g=a(5737),w=a(6992),_=a(4762),b=a(9937),C=a(306),B=a(5262),S=a(421),D=a(4571),V=a(5754),N=a(7752),x=a(4083),P=a(399),M=a(9362),$=a(2878),A=a(6731),T=a(5083),E=a(5349),Z=Object.defineProperty,O=Object.defineProperties,R=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,j=(e,t,a)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,L=(e,t)=>{for(var a in t||(t={}))F.call(t,a)&&j(e,a,t[a]);if(I)for(var a of I(t))K.call(t,a)&&j(e,a,t[a]);return e},Y=(e,t)=>O(e,R(t)),z=(e,t)=>{const a=e.__vccOpts||e;for(const[n,l]of t)a[n]=l;return a};const U={},H={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},G=(0,n.createElementVNode)("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),W=(0,n.createElementVNode)("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),X=(0,n.createElementVNode)("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),q=(0,n.createElementVNode)("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1),J=[G,W,X,q];function Q(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",H,J)}var ee=z(U,[["render",Q]]);const te={},ae={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},ne=(0,n.createElementVNode)("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),le=(0,n.createElementVNode)("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),re=[ne,le];function oe(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",ae,re)}var ue=z(te,[["render",oe]]);const ie={},se={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},ce=(0,n.createElementVNode)("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),de=[ce];function me(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",se,de)}var pe=z(ie,[["render",me]]);const ve={},fe={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},ye=(0,n.createElementVNode)("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1),ke=[ye];function he(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",fe,ke)}var ge=z(ve,[["render",he]]);const we={},_e={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},be=(0,n.createElementVNode)("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),Ce=(0,n.createElementVNode)("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),Be=[be,Ce];function Se(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",_e,Be)}var De=z(we,[["render",Se]]);const Ve={},Ne={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},xe=(0,n.createElementVNode)("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),Pe=[xe];function Me(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",Ne,Pe)}var $e=z(Ve,[["render",Me]]);const Ae={},Te={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Ee=(0,n.createElementVNode)("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),Ze=[Ee];function Oe(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("svg",Te,Ze)}var Re=z(Ae,[["render",Oe]]);const Ie=(e,t)=>{const a=(0,l.Z)(e,t.slice(0,e.length),new Date);return(0,r.Z)(a)&&(0,o.Z)(a)?a:null},Fe=e=>{let t=new Date(JSON.parse(JSON.stringify(e)));return t=(0,u.Z)(t,0),t=(0,i.Z)(t,0),t=(0,s.Z)(t,0),t=(0,c.Z)(t,0),t},Ke=e=>Array.isArray(e)?(0,r.Z)(e[0])&&(!e[1]||(0,r.Z)(e[1])):!!e&&(0,r.Z)(e),je=(e,t,a,n)=>{let l=e?new Date(e):new Date;return(t||0===t)&&(l=(0,u.Z)(l,+t)),(a||0===a)&&(l=(0,i.Z)(l,+a)),(n||0===n)&&(l=(0,s.Z)(l,+n)),(0,c.Z)(l,0)},Le=e=>{const t=(0,d.Z)(e,1);return{month:(0,m.Z)(t),year:(0,p.Z)(t)}},Ye=(e,t,a)=>{let n=e?new Date(e):new Date;return(t||0===t)&&(n=(0,v.Z)(n,t)),a&&(n=(0,f.Z)(n,a)),n},ze=(e,t)=>e?"HH:mm"+(t?":ss":""):`hh:mm${t?":ss":""} aa`,Ue=(e,t,a,n,l,r,o,u)=>e||(n?"MM/yyyy":l?ze(t,a):r?"MM/dd/yyyy":o?"yyyy":u?`MM/dd/yyyy, ${ze(t,a)}`:"MM/dd/yyyy"),He=e=>{const t=e||new Date;return{hours:(0,y.Z)(t),minutes:(0,k.Z)(t),seconds:(0,h.Z)(t)}},Ge=e=>({month:(0,m.Z)(e),year:(0,p.Z)(e)}),We=e=>Array.isArray(e)?[Ge(e[0]),e[1]?Ge(e[1]):null]:Ge(e),Xe=e=>Array.isArray(e)?[He(e[0]),He(e[1])]:He(e),qe=(e,t,a)=>a?(0,g.Z)(e,t,{locale:a}):(0,g.Z)(e,t),Je=(e,t,a,n)=>Array.isArray(e)?`${qe(e[0],t,a)} ${n||"-"} ${e[1]?qe(e[1],t,a):""}`:qe(e,t,a),Qe=(e,t)=>!(!e||!t)&&(0,w.Z)(Fe(e),Fe(t)),et=(e,t)=>!(!e||!t)&&(0,_.Z)(Fe(e),Fe(t)),tt=(e,t)=>!(!e||!t)&&(0,b.Z)(Fe(e),Fe(t)),at=(e,t)=>(0,C.Z)((0,B.Z)(new Date,e),t),nt=(e,t)=>(0,S.Z)((0,B.Z)(new Date,e),t),lt=e=>(0,B.Z)(new Date,{hours:(0,y.Z)(e),minutes:(0,k.Z)(e),seconds:(0,h.Z)(e)}),rt=e=>(0,B.Z)(new Date,{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),ot=(e,t,a)=>{let n=!0;if(!e)return!0;const l=Array.isArray(e)?[e[0]?lt(e[0]):null,e[1]?lt(e[1]):null]:lt(e);if(t){const e=rt(t);n=Array.isArray(l)?(!l[0]||l[0].getTime()<=e.getTime())&&(!l[1]||l[1].getTime()<=e.getTime()):l.getTime()<=e.getTime()}if(a){const e=rt(a);n=Array.isArray(l)?(!l[0]||l[0].getTime()>=e.getTime())&&(!l[1]||l[1].getTime()>=e.getTime())&&n:l.getTime()>=e.getTime()&&n}return n},ut=(e,t,a)=>{let n=!0;return t&&a&&(n=Qe(new Date(e),new Date(t))&&et(new Date(e),new Date(a))),t&&(n=Qe(new Date(e),new Date(t))),a&&(n=et(new Date(e),new Date(a))),n},it=e=>{const t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(t).toISOString()},st=(e,t,a)=>e&&e[0]&&e[1]?Qe(a,e[0])&&et(a,e[1]):!!(e&&e[0]&&t)&&(Qe(a,e[0])&&et(a,t)||et(a,e[0])&&Qe(a,t)),ct=(e,t)=>{const a=(0,D.Z)(e,{weekStartsOn:t}),n=(0,V.Z)(e,{weekStartsOn:t});return[a,n]},dt=(e,t,a,n,l,r,o,u)=>{const i=!!a&&Qe(it(e),it(new Date(a))),s=!!t&&et(it(e),it(new Date(t))),c="function"==typeof n?n(e):n.some((t=>tt(it(new Date(t)),it(e)))),d=(r.months.length?r.months.map((e=>+e)):[]).includes((0,m.Z)(e)),v=!!o.length&&o.some((t=>+t===(0,N.Z)(e))),f=!!l.length&&!l.some((t=>tt(it(new Date(t)),it(e)))),y=(0,p.Z)(e),k=y<+u[0]||y>+u[1];return!(i||s||c||d||k||v||f)},mt=(e,t,a,n,l,r,o)=>({validate:u=>dt(u,e,t,a,n,l,r,o)}),pt=(e,t,a)=>{const n=new Date(JSON.parse(JSON.stringify(e))),l=[];for(let r=0;r<7;r++){const e=(0,x.Z)(n,r),o=(0,m.Z)(e)!==t;l.push({text:a&&o?"":e.getDate(),value:e,current:!o})}return l},vt=(e,t,a,n)=>{const l=[],r=new Date(t,e),o=new Date(t,e+1,0),u=(0,D.Z)(r,{weekStartsOn:a}),i=t=>{const a=pt(t,e,n);if(l.push({days:a}),!l[l.length-1].days.some((e=>tt(Fe(e.value),Fe(o))))){const e=(0,x.Z)(t,7);i(e)}};return i(u),l},ft=(e,t=3)=>{const a=[];for(let n=0;n<e.length;n+=t)a.push([e[n],e[n+1],e[n+2]]);return a},yt=(e,t)=>{const a=[1,2,3,4,5,6,7].map((t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2))),n=a.slice(0,t),l=a.slice(t+1,a.length);return[a[t]].concat(...l).concat(...n)},kt=e=>{const t=[];for(let a=+e[0];a<=+e[1];a++)t.push({value:+a,text:`${a}`});return t},ht=(e,t)=>{const a=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map((e=>{const t=e<10?`0${e}`:e;return new Date(`2017-${t}-01T00:00:00+00:00`)})).map(((e,t)=>({text:a.format(e),value:t})))},gt=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],wt=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),_t=e=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},e),bt=e=>{function t(t){let a="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=n.length;for(let e=0;e<t;e++)a+=n.charAt(Math.floor(Math.random()*l));return a+e}return t(5)},Ct=e=>{var t;const a=(0,n.unref)(e);return null!=(t=null==a?void 0:a.$el)?t:a},Bt=e=>Object.assign({type:"dot"},e),St=e=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},e),Dt=e=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month"},e),Vt=Symbol(),Nt=Symbol(),xt=Symbol(),Pt=Symbol(),Mt=Symbol(),$t=Symbol(),At={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1}},Tt={range:{type:Boolean,default:!1},uid:{type:String,default:null}},Et={enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1}},Zt=Y(L({},Et),{fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1}}),Ot={name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},openMenuOnFocus:{type:Boolean,default:!0}},Rt={minTime:{type:Object,default:null},maxTime:{type:Object,default:null}},It={minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null}},Ft=L({selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1}},Rt),Kt={monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1}},jt={locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1}},Lt=Y(L(L(L(L(L(L({},Zt),Ft),Kt),It),jt),Tt),{vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},monthChangeOnScroll:{type:[Boolean,String],default:!0},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0}}),Yt=Y(L(L(L({},Ot),At),Lt),{multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},partialRange:{type:Boolean,default:!0},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})}}),zt={range:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null}},Ut=Y(L(L({},Kt),zt),{vertical:{type:Boolean,default:!1},month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:1}}),Ht=(0,n.reactive)({menuFocused:!1,shiftKeyInMenu:!1}),Gt=()=>({setMenuFocused:e=>{Ht.menuFocused=e},getStore:()=>Ht,setShiftKey:e=>{Ht.shiftKeyInMenu!==e&&(Ht.shiftKeyInMenu=e)}}),Wt=["aria-label","aria-disabled","aria-readonly"],Xt={key:1,class:"dp__input_wrap"},qt=["id","name","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Jt={key:4,class:"dp__clear_icon"},Qt=(0,n.defineComponent)({props:Y(L(L(L({},Ot),At),Tt),{inputValue:{type:String,default:""},inline:{type:Boolean,default:!1},isMenuOpen:{type:Boolean,default:!1},pattern:{type:String,default:""}}),emits:["clear","open","update:inputValue","setInputDate","close","selectDate","setEmptyDate","toggle","focus-prev"],setup(e,{expose:t,emit:a}){const l=e,r=(0,n.ref)(),o=(0,n.ref)(null),u=(0,n.ref)(!1),i=(0,n.inject)(Vt),s=(0,n.useSlots)(),{getStore:c}=Gt(),d=(0,n.computed)((()=>({dp__pointer:!l.disabled&&!l.readonly&&!l.textInput,dp__disabled:l.disabled,dp__input:!0,dp__input_icon_pad:!l.hideInputIcon,dp__input_valid:l.state,dp__input_invalid:!1===l.state,dp__input_focus:u.value||l.isMenuOpen,[l.inputClassName]:!!l.inputClassName}))),m=e=>{const{value:t}=e.target,{format:n,rangeSeparator:o}=l.textInputOptions;if(""!==t){if(l.range){const[e,a]=t.split(`${o}`);if(e&&a){const t=Ie(e.trim(),n||l.pattern),o=Ie(a.trim(),n||l.pattern);r.value=t&&o?[t,o]:null}}else r.value=Ie(t,n||l.pattern);a("setInputDate",r.value)}else a("setInputDate",null),l.autoApply&&(a("setEmptyDate"),r.value=null);a("update:inputValue",t)},p=()=>{var e,t;(null==(e=l.textInputOptions)?void 0:e.enterSubmit)&&Ke(r.value)&&""!==l.inputValue?(a("setInputDate",r.value,!0),r.value=null):(null==(t=l.textInputOptions)?void 0:t.enterSubmit)&&""===l.inputValue&&(r.value=null,a("clear"))},v=()=>{var e,t;(null==(e=l.textInputOptions)?void 0:e.tabSubmit)&&Ke(r.value)&&""!==l.inputValue?(a("setInputDate",r.value,!0),r.value=null):(null==(t=l.textInputOptions)?void 0:t.tabSubmit)&&""===l.inputValue&&(r.value=null,a("clear")),a("close")},f=()=>{var e;if(c().shiftKeyInMenu&&l.openMenuOnFocus)return a("close"),a("focus-prev");!l.inline&&(!l.textInput||l.textInput&&(null==(e=l.textInputOptions)?void 0:e.openMenu))&&(u.value=!0,l.openMenuOnFocus&&!l.isMenuOpen?a("open"):l.isMenuOpen&&!c().menuFocused&&(g(),a("close")))},y=()=>{var e;!l.openMenuOnFocus||s["dp-input"]||s.trigger?l.textInput&&(null==(e=l.textInputOptions)?void 0:e.openMenu)&&!l.isMenuOpen?a("open"):l.textInput||a("toggle"):l.textInput||u.value&&a("toggle")},k=()=>{u.value=!1,l.autoApply&&l.textInput&&r.value&&(a("setInputDate",r.value),a("selectDate"),r.value=null)},h=()=>{a("clear")},g=()=>{u.value=!1;const e=Ct(o);e&&e.blur()};return t({unFocus:g}),(t,l)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{onClick:y,"aria-label":(0,n.unref)(i).input,role:"textbox","aria-multiline":"false","aria-disabled":t.disabled,"aria-readonly":t.readonly},[!t.$slots.trigger||t.$slots["dp-input"]||e.inline?(0,n.createCommentVNode)("",!0):(0,n.renderSlot)(t.$slots,"trigger",{key:0}),t.$slots.trigger||e.inline&&!t.inlineWithInput?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",Xt,[!t.$slots["dp-input"]||t.$slots.trigger||e.inline?(0,n.createCommentVNode)("",!0):(0,n.renderSlot)(t.$slots,"dp-input",{key:0,value:e.inputValue,onInput:m,onEnter:p,onTab:v,onClear:h}),t.$slots["dp-input"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("input",{key:1,ref_key:"inputRef",ref:o,id:t.uid?`dp-input-${t.uid}`:void 0,name:t.name,class:(0,n.normalizeClass)((0,n.unref)(d)),placeholder:t.placeholder,disabled:t.disabled,readonly:t.readonly||!t.textInput,required:t.required,value:e.inputValue,autocomplete:t.autocomplete,onInput:m,onKeydown:[(0,n.withKeys)(p,["enter"]),(0,n.withKeys)(v,["tab"])],onBlur:k,onFocus:f},null,42,qt)),t.$slots["input-icon"]&&!t.hideInputIcon?((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:2,class:"dp__input_icon",onClick:l[0]||(l[0]=e=>a("toggle"))},[(0,n.renderSlot)(t.$slots,"input-icon")])):(0,n.createCommentVNode)("",!0),t.$slots["input-icon"]||t.hideInputIcon||t.$slots["dp-input"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(ee),{key:3,class:"dp__input_icon dp__input_icons",onClick:l[1]||(l[1]=e=>a("toggle"))})),t.$slots["clear-icon"]&&e.inputValue&&t.clearable&&!t.disabled&&!t.readonly?((0,n.openBlock)(),(0,n.createElementBlock)("span",Jt,[(0,n.renderSlot)(t.$slots,"clear-icon",{clear:h})])):(0,n.createCommentVNode)("",!0),!t.clearable||t.$slots["clear-icon"]||!e.inputValue||t.disabled||t.readonly?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(ue),{key:5,class:"dp__clear_icon dp__input_icons",onClick:(0,n.withModifiers)(h,["stop","prevent"])},null,8,["onClick"]))]))],8,Wt))}}),ea=(0,n.reactive)({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ta=(0,n.ref)(null),aa=(0,n.ref)(!1),na=(0,n.ref)(!1),la=(0,n.ref)(!1),ra=(0,n.ref)(!1),oa=(0,n.ref)(0),ua=(0,n.ref)(0),ia=()=>{const e=(0,n.computed)((()=>aa.value?[...ea.selectionGrid,ea.actionRow].filter((e=>e.length)):na.value?[...ea.timePicker[0],...ea.timePicker[1],ra.value?[]:[ta.value],ea.actionRow].filter((e=>e.length)):la.value?[...ea.monthPicker,ea.actionRow]:[ea.monthYear,...ea.calendar,ea.time,ea.actionRow].filter((e=>e.length)))),t=t=>{oa.value=t?oa.value+1:oa.value-1;let a=null;e.value[ua.value]&&(a=e.value[ua.value][oa.value]),a||(oa.value=t?oa.value-1:oa.value+1)},a=t=>{0===ua.value&&!t||ua.value===e.value.length&&t||(ua.value=t?ua.value+1:ua.value-1,e.value[ua.value]?e.value[ua.value]&&!e.value[ua.value][oa.value]&&0!==oa.value&&(oa.value=e.value[ua.value].length-1):ua.value=t?ua.value-1:ua.value+1)},l=t=>{let a=null;e.value[ua.value]&&(a=e.value[ua.value][oa.value]),a?a.focus({preventScroll:!aa.value}):oa.value=t?oa.value-1:oa.value+1},r=()=>{t(!0),l(!0)},o=()=>{t(!1),l(!1)},u=()=>{a(!1),l(!0)},i=()=>{a(!0),l(!0)},s=(e,t)=>{ea[t]=e},c=(e,t)=>{ea[t]=e},d=()=>{oa.value=0,ua.value=0};return{buildMatrix:s,buildMultiLevelMatrix:c,setTimePickerBackRef:e=>{ta.value=e},setSelectionGrid:e=>{aa.value=e,d(),e||(ea.selectionGrid=[])},setTimePicker:(e,t=!1)=>{na.value=e,ra.value=t,d(),e||(ea.timePicker[0]=[],ea.timePicker[1]=[])},setTimePickerElements:(e,t=0)=>{ea.timePicker[t]=e},arrowRight:r,arrowLeft:o,arrowUp:u,arrowDown:i,clearArrowNav:()=>{ea.monthYear=[],ea.calendar=[],ea.time=[],ea.actionRow=[],ea.selectionGrid=[],ea.timePicker[0]=[],ea.timePicker[1]=[],aa.value=!1,na.value=!1,ra.value=!1,la.value=!1,d(),ta.value=null},setMonthPicker:e=>{la.value=e,d()}}},sa=["aria-label"],ca={class:"dp__calendar_header",role:"row"},da={key:0,class:"dp__calendar_header_item",role:"gridcell"},ma=(0,n.createElementVNode)("div",{class:"dp__calendar_header_separator"},null,-1),pa=["aria-label"],va={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},fa={class:"dp__cell_inner"},ya=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],ka=(0,n.createElementVNode)("div",{class:"dp__arrow_bottom_tp"},null,-1),ha=(0,n.defineComponent)({props:Y(L(L({},Ut),jt),{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},modeHeight:{type:[Number,String],default:255},specificMode:{type:Boolean,default:!1}}),emits:["selectDate","setHoverDate","handleScroll","mount","handleSwipe"],setup(e,{expose:t,emit:a}){const l=e,r=(0,n.ref)(null),o=(0,n.ref)({bottom:"",left:"",transform:""}),u=(0,n.ref)([]),i=(0,n.ref)(null),s=(0,n.ref)(!0),c=(0,n.inject)(Nt),d=(0,n.inject)(Vt),m=(0,n.inject)($t),p=(0,n.ref)(""),v=(0,n.ref)({startX:0,endX:0,startY:0,endY:0}),f=(0,n.computed)((()=>yt(l.locale,+l.weekStart))),{buildMultiLevelMatrix:y}=ia();(0,n.onMounted)((()=>{a("mount",{cmp:"calendar",refs:u}),l.noSwipe||i.value&&(i.value.addEventListener("touchstart",S),i.value.addEventListener("touchend",D),i.value.addEventListener("touchmove",V))}));const k=(e,t)=>{if(null!=c&&c.value){const a=Fe(Ye(new Date,l.month,l.year));p.value=Qe(Fe(Ye(new Date,e,t)),a)?c.value[l.vertical?"vNext":"next"]:c.value[l.vertical?"vPrevious":"previous"],s.value=!1,(0,n.nextTick)((()=>{s.value=!0}))}},h=(0,n.computed)((()=>({dp__calendar_wrap:!0,[l.calendarClassName]:!!l.calendarClassName}))),g=(0,n.computed)((()=>e=>{const t=Bt(e);return{dp__marker_dot:"dot"===t.type,dp__marker_line:"line"===t.type}})),w=(0,n.computed)((()=>e=>tt(e,r.value))),_=(0,n.computed)((()=>({dp__calendar:!0,dp__calendar_next:l.multiCalendars>0&&0!==l.instance}))),b=(0,n.computed)((()=>l.specificMode?{height:`${l.modeHeight}px`}:null)),C=(e,t,n)=>{var l,i;if(a("setHoverDate",e),null!=(i=null==(l=e.marker)?void 0:l.tooltip)&&i.length){const a=Ct(u.value[t][n]);if(a){const{width:t,height:n}=a.getBoundingClientRect();o.value={bottom:`${n}px`,left:t/2+"px",transform:"translateX(-50%)"},r.value=e.value}}},B=()=>{r.value=null},S=e=>{v.value.startX=e.changedTouches[0].screenX,v.value.startY=e.changedTouches[0].screenY},D=e=>{v.value.endX=e.changedTouches[0].screenX,v.value.endY=e.changedTouches[0].screenY,N()},V=e=>{e.preventDefault()},N=()=>{const e=l.vertical?"Y":"X";Math.abs(v.value[`start${e}`]-v.value[`end${e}`])>10&&a("handleSwipe",v.value[`start${e}`]>v.value[`end${e}`]?"right":"left")},x=(e,t,a)=>{e&&(Array.isArray(u.value[t])?u.value[t][a]=e:u.value[t]=[e]),null!=m&&m.value&&y(u.value,"calendar")};return t({triggerTransition:k}),(t,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)((0,n.unref)(_))},[(0,n.createElementVNode)("div",{style:(0,n.normalizeStyle)((0,n.unref)(b))},[e.specificMode?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,ref_key:"calendarWrapRef",ref:i,class:(0,n.normalizeClass)((0,n.unref)(h)),role:"grid","aria-label":(0,n.unref)(d).calendarWrap,onWheel:a[1]||(a[1]=(0,n.withModifiers)((e=>t.$emit("handleScroll",e)),["prevent"]))},[(0,n.createElementVNode)("div",ca,[t.weekNumbers?((0,n.openBlock)(),(0,n.createElementBlock)("div",da,(0,n.toDisplayString)(t.weekNumName),1)):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(f),((e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"dp__calendar_header_item",role:"gridcell",key:a},[t.$slots["calendar-header"]?(0,n.renderSlot)(t.$slots,"calendar-header",{key:0,day:e,index:a}):(0,n.createCommentVNode)("",!0),t.$slots["calendar-header"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)(e),1)],64))])))),128))]),ma,(0,n.createVNode)(n.Transition,{name:p.value,css:!!(0,n.unref)(c)},{default:(0,n.withCtx)((()=>[s.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(0,n.unref)(d).calendarDays},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.mappedDates,((l,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"dp__calendar_row",role:"row",key:r},[t.weekNumbers?((0,n.openBlock)(),(0,n.createElementBlock)("div",va,[(0,n.createElementVNode)("div",fa,(0,n.toDisplayString)(e.getWeekNum(l.days)),1)])):(0,n.createCommentVNode)("",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.days,((e,l)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:e=>x(e,r,l),key:l+r,"aria-selected":e.classData.dp__active_date||e.classData.dp__range_start||e.classData.dp__range_start,"aria-disabled":e.classData.dp__cell_disabled,tabindex:"0",onClick:(0,n.withModifiers)((a=>t.$emit("selectDate",e)),["stop","prevent"]),onKeydown:(0,n.withKeys)((a=>t.$emit("selectDate",e)),["enter"]),onMouseover:t=>C(e,r,l),onMouseleave:B},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["dp__cell_inner",e.classData])},[t.$slots.day?(0,n.renderSlot)(t.$slots,"day",{key:0,day:+e.text,date:e.value}):(0,n.createCommentVNode)("",!0),t.$slots.day?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)(e.text),1)],64)),e.marker?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,class:(0,n.normalizeClass)((0,n.unref)(g)(e.marker)),style:(0,n.normalizeStyle)(e.marker.color?{backgroundColor:e.marker.color}:{})},null,6)):(0,n.createCommentVNode)("",!0),(0,n.unref)(w)(e.value)?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:3,class:"dp__marker_tooltip",style:(0,n.normalizeStyle)(o.value)},[(0,n.createElementVNode)("div",{class:"dp__tooltip_content",onClick:a[0]||(a[0]=(0,n.withModifiers)((()=>{}),["stop"]))},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.marker.tooltip,((a,l)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:l,class:"dp__tooltip_text"},[t.$slots["marker-tooltip"]?(0,n.renderSlot)(t.$slots,"marker-tooltip",{key:0,tooltop:a,day:e.value}):(0,n.createCommentVNode)("",!0),t.$slots["marker-tooltip"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createElementVNode)("div",{class:"dp__tooltip_mark",style:(0,n.normalizeStyle)(a.color?{backgroundColor:a.color}:{})},null,4),(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(a.text),1)],64))])))),128)),ka])],4)):(0,n.createCommentVNode)("",!0)],2)],40,ya)))),128))])))),128))],8,pa)):(0,n.createCommentVNode)("",!0)])),_:3},8,["name","css"])],42,sa))],4)],2))}}),ga=e=>"object"==typeof e,wa=(e,t)=>t,_a=e=>Array.isArray(e)&&2===e.length,ba=e=>Array.isArray(e),Ca=e=>"object"==typeof e,Ba=e=>Array.isArray(e),Sa=e=>Array.isArray(e),Da=e=>Array.isArray(e)&&2===e.length,Va=(e,t)=>t?Array.isArray(e):Da(e),Na=e=>Array.isArray(e),xa=e=>"string"==typeof e||"object"==typeof e,Pa=e=>"string"==typeof e,Ma={class:"dp__selection_preview"},$a={class:"dp__action_buttons"},Aa=["onKeydown"],Ta=(0,n.defineComponent)({props:Y(L(L(L(L(L({},Ft),It),Rt),Kt),zt),{inline:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},enableTimePicker:{type:Boolean,default:!0}}),emits:["closePicker","selectDate"],setup(e,{emit:t}){const a=e,{buildMatrix:l}=ia(),r=(0,n.inject)(Mt),o=(0,n.inject)($t),u=(0,n.ref)(null),i=(0,n.ref)(null);(0,n.onMounted)((()=>{null!=o&&o.value&&l([Ct(u),Ct(i)],"actionRow")}));const s=(0,n.computed)((()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!c.value||!d.value}))),c=(0,n.computed)((()=>!a.enableTimePicker||ot(a.internalModelValue,a.maxTime,a.minTime))),d=(0,n.computed)((()=>!a.monthPicker||ut(a.internalModelValue,a.minDate,a.maxDate))),m=e=>Je(e,a.previewFormat,null==r?void 0:r.value),p=(0,n.computed)((()=>a.internalModelValue&&a.menuMount?"string"==typeof a.previewFormat?Ba(a.internalModelValue)?2===a.internalModelValue.length&&a.internalModelValue[1]?a.multiCalendars>0?`${m(a.internalModelValue[0])} - ${m(a.internalModelValue[1])}`:[m(a.internalModelValue[0]),m(a.internalModelValue[1])]:a.multiDates?a.internalModelValue.map((e=>`${m(e)}`)):`${m(a.internalModelValue[0])} -`:Je(a.internalModelValue,a.previewFormat,null==r?void 0:r.value):a.timePicker?a.previewFormat(Xe(a.internalModelValue)):a.monthPicker?a.previewFormat(Ge(a.internalModelValue)):a.previewFormat(a.internalModelValue):"")),v=()=>{c.value&&d.value&&t("selectDate")};return(t,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"dp__action_row",style:(0,n.normalizeStyle)(e.calendarWidth?{width:`${e.calendarWidth}px`}:{})},[(0,n.createElementVNode)("div",Ma,[t.$slots["action-preview"]?(0,n.renderSlot)(t.$slots,"action-preview",{key:0,value:t.internalModelValue}):(0,n.createCommentVNode)("",!0),t.$slots["action-preview"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[Array.isArray((0,n.unref)(p))?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(p)),1)],64)),Array.isArray((0,n.unref)(p))?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:1},(0,n.renderList)((0,n.unref)(p),((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t},(0,n.toDisplayString)(e),1)))),128)):(0,n.createCommentVNode)("",!0)],64))]),(0,n.createElementVNode)("div",$a,[t.$slots["action-select"]?(0,n.renderSlot)(t.$slots,"action-select",{key:0,value:t.internalModelValue}):(0,n.createCommentVNode)("",!0),t.$slots["action-select"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[e.inline?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:u,tabindex:"0",onClick:a[0]||(a[0]=e=>t.$emit("closePicker")),onKeydown:a[1]||(a[1]=(0,n.withKeys)((e=>t.$emit("closePicker")),["enter"]))},(0,n.toDisplayString)(t.cancelText),545)),(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)((0,n.unref)(s)),tabindex:"0",onKeydown:(0,n.withKeys)(v,["enter"]),onClick:v,ref_key:"selectButtonRef",ref:i},(0,n.toDisplayString)(t.selectText),43,Aa)],64))])],4))}}),Ea={class:"dp__overlay_container",role:"grid"},Za={class:"dp__selection_grid_header"},Oa=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Ra=["aria-label","onKeydown"],Ia=(0,n.defineComponent)({props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1}},emits:["update:modelValue","selected","toggle","reset-flow"],setup(e,{expose:t,emit:a}){const l=e,r=(0,n.ref)(!1),o=(0,n.ref)(null),u=(0,n.ref)(null),i=(0,n.ref)([]),s=(0,n.inject)(xt,!1),c=(0,n.inject)(Pt,(0,n.ref)(!1)),d=(0,n.inject)(Vt),m=(0,n.inject)($t),p=(0,n.ref)(),y=(0,n.ref)(),{setSelectionGrid:k,buildMultiLevelMatrix:h,setMonthPicker:g}=ia();(0,n.onBeforeUpdate)((()=>{o.value=null})),(0,n.onMounted)((()=>{(0,n.nextTick)().then((()=>V())),_(),w(!0)})),(0,n.onUnmounted)((()=>w(!1)));const w=e=>{var t;null!=m&&m.value&&(null!=(t=l.headerRefs)&&t.length?g(e):k(e))},_=()=>{const e=Ct(u);e&&(c.value||e.focus({preventScroll:!0}),r.value=e.clientHeight<e.scrollHeight)},b=(0,n.computed)((()=>({dp__overlay:!0}))),C=(0,n.computed)((()=>({dp__overlay_col:!0}))),B=(0,n.computed)((()=>l.items.map((e=>e.filter((e=>e)).map((e=>{var t,a,n;const r=l.disabledValues.some((t=>t===e.value))||D(e.value),o=null!=(t=l.multiModelValue)&&t.length?null==(a=l.multiModelValue)?void 0:a.some((t=>tt(t,(0,f.Z)((0,v.Z)(new Date,e.value),l.year)))):!l.skipActive&&e.value===l.modelValue;return Y(L({},e),{className:{dp__overlay_cell_active:o,dp__overlay_cell:!o,dp__overlay_cell_disabled:r,dp__overlay_cell_active_disabled:r&&o,dp__overlay_cell_pad:!0,dp__cell_in_between:!(null==(n=l.multiModelValue)||!n.length)&&x(e.value)}})})))))),S=(0,n.computed)((()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:r.value,dp__button_bottom:s}))),D=e=>{const t=!!l.maxValue&&+e>+l.maxValue,a=!!l.minValue&&+e<+l.minValue;return t||a},V=()=>{const e=Ct(o);if(e){const t=Ct(u);t&&(t.scrollTop=e.offsetTop-t.offsetTop-(t.getBoundingClientRect().height/2-e.getBoundingClientRect().height))}},N=e=>{!l.disabledValues.some((t=>t===e))&&(!l.minValue||+l.minValue<=e)&&(!l.maxValue||+l.maxValue>=e)&&(a("update:modelValue",e),a("selected"))},x=e=>st(l.multiModelValue,(0,f.Z)((0,v.Z)(new Date,p.value||0),l.year),(0,f.Z)((0,v.Z)(new Date,e),l.year)),P=()=>{a("toggle"),a("reset-flow")},M=(e,t,a,n)=>{var r,u;if(e&&(t.value===+l.modelValue&&!l.disabledValues.includes(t.value)&&(o.value=e),null!=m&&m.value)){Array.isArray(i.value[a])?i.value[a][n]=e:i.value[a]=[e];const t=null!=(r=l.headerRefs)&&r.length?[l.headerRefs].concat(i.value):i.value.concat([l.skipButtonRef?[]:[y.value]]);h(t,null!=(u=l.headerRefs)&&u.length?"monthPicker":"selectionGrid")}};return t({focusGrid:_}),(t,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{ref_key:"gridWrapRef",ref:u,class:(0,n.normalizeClass)((0,n.unref)(b)),role:"dialog",tabindex:"0"},[(0,n.createElementVNode)("div",Ea,[(0,n.createElementVNode)("div",Za,[(0,n.renderSlot)(t.$slots,"header")]),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(B),((a,l)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"dp__overlay_row",key:(0,n.unref)(bt)(l),role:"row"},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(a,((a,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{role:"gridcell",class:(0,n.normalizeClass)((0,n.unref)(C)),key:a.value,"aria-selected":a.value===e.modelValue&&!e.disabledValues.includes(a.value),"aria-disabled":a.className.dp__overlay_cell_disabled,ref_for:!0,ref:e=>M(e,a,l,r),tabindex:"0",onClick:e=>N(a.value),onKeydown:(0,n.withKeys)((e=>N(a.value)),["enter"]),onMouseover:e=>p.value=a.value},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(a.className)},[t.$slots.item?(0,n.renderSlot)(t.$slots,"item",{key:0,item:a}):(0,n.createCommentVNode)("",!0),t.$slots.item?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)(a.text),1)],64))],2)],42,Oa)))),128))])))),128)),t.$slots["button-icon"]?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,role:"button","aria-label":(0,n.unref)(d).toggleOverlay,class:(0,n.normalizeClass)((0,n.unref)(S)),tabindex:"0",ref_key:"toggleButton",ref:y,onClick:P,onKeydown:(0,n.withKeys)(P,["enter"])},[(0,n.renderSlot)(t.$slots,"button-icon")],42,Ra)):(0,n.createCommentVNode)("",!0)])],2))}}),Fa=()=>{const e=(0,n.inject)(Nt);return{transitionName:(0,n.computed)((()=>t=>null!=e&&e.value?t?e.value.open:e.value.close:"")),showTransition:!(null==e||!e.value)}},Ka={key:0,class:"dp__time_input"},ja=(0,n.createTextVNode)(" : "),La=["aria-label","onKeydown","onClick"],Ya=["aria-label","onKeydown","onClick"],za=["aria-label","onKeydown","onClick"],Ua={key:0},Ha=["aria-label","onKeydown"],Ga=(0,n.defineComponent)({props:Y(L({},Et),{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},filters:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0}}),emits:["setHours","setMinutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(e,{expose:t,emit:a}){const l=e,r=(0,n.reactive)({hours:!1,minutes:!1,seconds:!1}),o=(0,n.ref)("AM"),u=(0,n.ref)(null),i=(0,n.inject)(Vt),s=(0,n.inject)($t),c=(0,n.ref)([]),{transitionName:d,showTransition:m}=Fa(),{setTimePickerElements:p,setTimePickerBackRef:v}=ia();(0,n.onMounted)((()=>{a("mounted")}));const f=(0,n.computed)((()=>({dp__time_col:!0,dp__time_col_reg:!l.enableSeconds&&l.is24,dp__time_col_reg_with_button:!l.enableSeconds&&!l.is24,dp__time_col_sec:l.enableSeconds&&l.is24,dp__time_col_sec_with_button:l.enableSeconds&&!l.is24}))),g=(0,n.computed)((()=>{const e=[{type:"hours"},"separator",{type:"minutes"}];return l.enableSeconds?e.concat(["separator",{type:"seconds"}]):e})),w=(0,n.computed)((()=>g.value.filter((e=>"string"!=typeof e)))),_=(0,n.computed)((()=>e=>{if("hours"===e){const e=D(l.hours);return{text:e<10?`0${e}`:`${e}`,value:e}}return{text:l[e]<10?`0${l[e]}`:`${l[e]}`,value:l[e]}})),b=e=>{const t="hours"===e?l.is24?24:12:60,a=+l[`${e}GridIncrement`],n=[];for(let l=0;l<t;l+=a)n.push({value:l,text:l<10?`0${l}`:`${l}`});return ft(n)},C=e=>l[`no${e[0].toUpperCase()+e.slice(1)}Overlay`],B=e=>{C(e)||(r[e]=!r[e],r[e]||a("overlay-closed"))},S=(e,t=!0)=>{const n="hours"===e?y.Z:"minutes"===e?k.Z:h.Z,r=t?at:nt;a(`update:${e}`,n(r({[e]:+l[e]},{[e]:+l[`${e}Increment`]})))},D=e=>l.is24?e:(o.value=e>=12?"PM":"AM",gt(e)),V=()=>{"PM"===o.value?(o.value="AM",a("update:hours",l.hours-12)):(o.value="PM",a("update:hours",l.hours+12))},N=e=>{r[e]=!0},x=(e,t,a)=>{if(e&&(null==s?void 0:s.value)){Array.isArray(c.value[t])?c.value[t][a]=e:c.value[t]=[e];let n=c.value.reduce(((e,t)=>t.map(((a,n)=>[...e[n]||[],t[n]]))),[]);v(l.closeTimePickerBtn),u.value&&(n[1]=n[1].concat(u.value)),p(n,l.order)}},P=(e,t)=>"hours"!==e||l.is24?a(`update:${e}`,t):a(`update:${e}`,"PM"===o.value?t+12:t);return t({openChildCmp:N}),(t,a)=>e.disabled?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",Ka,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(g),((e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:a,class:(0,n.normalizeClass)((0,n.unref)(f))},["separator"===e?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[ja],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createElementVNode)("div",{class:"dp__inc_dec_button",role:"button","aria-label":(0,n.unref)(i).incrementValue(e.type),tabindex:"0",onKeydown:(0,n.withKeys)((t=>S(e.type)),["enter"]),onClick:t=>S(e.type),ref_for:!0,ref:e=>x(e,a,0)},[t.$slots["arrow-up"]?(0,n.renderSlot)(t.$slots,"arrow-up",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["arrow-up"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)($e),{key:1}))],40,La),(0,n.createElementVNode)("div",{role:"button","aria-label":(0,n.unref)(i).openTpOverlay(e.type),class:(0,n.normalizeClass)(C(e.type)?"":"dp__time_display"),tabindex:"0",onKeydown:(0,n.withKeys)((t=>B(e.type)),["enter"]),onClick:t=>B(e.type),ref_for:!0,ref:e=>x(e,a,1)},[t.$slots[e.type]?(0,n.renderSlot)(t.$slots,e.type,{key:0,text:(0,n.unref)(_)(e.type).text,value:(0,n.unref)(_)(e.type).value}):(0,n.createCommentVNode)("",!0),t.$slots[e.type]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(_)(e.type).text),1)],64))],42,Ya),(0,n.createElementVNode)("div",{class:"dp__inc_dec_button",role:"button","aria-label":(0,n.unref)(i).decrementValue(e.type),tabindex:"0",onKeydown:(0,n.withKeys)((t=>S(e.type,!1)),["enter"]),onClick:t=>S(e.type,!1),ref_for:!0,ref:e=>x(e,a,2)},[t.$slots["arrow-down"]?(0,n.renderSlot)(t.$slots,"arrow-down",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["arrow-down"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(Re),{key:1}))],40,za)],64))],2)))),128)),t.is24?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",Ua,[t.$slots["am-pm-button"]?(0,n.renderSlot)(t.$slots,"am-pm-button",{key:0,toggle:V,value:o.value}):(0,n.createCommentVNode)("",!0),t.$slots["am-pm-button"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,ref_key:"amPmButton",ref:u,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(0,n.unref)(i).amPmButton,tabindex:"0",onClick:V,onKeydown:(0,n.withKeys)((0,n.withModifiers)(V,["prevent"]),["enter"])},(0,n.toDisplayString)(o.value),41,Ha))])),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(w),((l,o)=>((0,n.openBlock)(),(0,n.createBlock)(n.Transition,{key:o,name:(0,n.unref)(d)((0,n.unref)(r)[l.type]),css:(0,n.unref)(m)},{default:(0,n.withCtx)((()=>[(0,n.unref)(r)[l.type]?((0,n.openBlock)(),(0,n.createBlock)(Ia,{key:0,items:b(l.type),"disabled-values":e.filters.times[l.type],"onUpdate:modelValue":e=>P(l.type,e),onSelected:e=>B(l.type),onToggle:e=>B(l.type),onResetFlow:a[0]||(a[0]=e=>t.$emit("reset-flow"))},(0,n.createSlots)({"button-icon":(0,n.withCtx)((()=>[t.$slots["clock-icon"]?(0,n.renderSlot)(t.$slots,"clock-icon",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["clock-icon"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(De),{key:1}))])),_:2},[t.$slots[`${l.type}-overlay`]?{name:"item",fn:(0,n.withCtx)((({item:e})=>[(0,n.renderSlot)(t.$slots,`${l.type}-overlay`,{text:e.text,value:e.value})]))}:void 0]),1032,["items","disabled-values","onUpdate:modelValue","onSelected","onToggle"])):(0,n.createCommentVNode)("",!0)])),_:2},1032,["name","css"])))),128))]))}}),Wa=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay",use:["calendar","month-year"]},{name:"year-overlay",use:["calendar","month-year"]},{name:"hours-overlay",use:["calendar","time"]},{name:"minutes-overlay",use:["calendar","time"]},{name:"seconds-overlay",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]}],Xa=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],qa={all:()=>Wa,monthYear:()=>Wa.filter((e=>e.use.includes("month-year"))),input:()=>Xa,timePicker:()=>Wa.filter((e=>e.use.includes("time"))),action:()=>Wa.filter((e=>e.use.includes("action"))),calendar:()=>Wa.filter((e=>e.use.includes("calendar")))},Ja=(e,t)=>{const a=[];return qa[t]().forEach((t=>{e[t.name]&&a.push(t.name)})),a},Qa=["aria-label"],en={class:"dp__overlay_container"},tn={key:1,class:"dp__overlay_row"},an=["aria-label"],nn=(0,n.defineComponent)({props:Y(L({},Zt),{range:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},customProps:{type:Object,default:null}}),emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:a}){const l=e,r=(0,n.useSlots)(),o=(0,n.ref)(null),u=(0,n.ref)(null),i=(0,n.inject)(xt,!1),s=(0,n.ref)([]),c=(0,n.ref)(null),d=(0,n.inject)(Vt),m=(0,n.inject)($t),{transitionName:p,showTransition:v}=Fa(),{buildMatrix:f,setTimePicker:y}=ia();(0,n.onMounted)((()=>{a("mount"),!l.timePicker&&(null==m?void 0:m.value)?f([Ct(o.value)],"time"):y(!0,l.timePicker)}));const k=(0,n.ref)(!1),h=e=>({hours:Array.isArray(l.hours)?l.hours[e]:l.hours,minutes:Array.isArray(l.minutes)?l.minutes[e]:l.minutes,seconds:Array.isArray(l.seconds)?l.seconds[e]:l.seconds}),g=(0,n.computed)((()=>{const e=[];if(l.range)for(let t=0;t<2;t++)e.push(h(t));else e.push(h(0));return e})),w=(e,t=!1,l="")=>{t||a("reset-flow"),k.value=e,null!=m&&m.value&&(y(e),e||a("overlay-closed")),(0,n.nextTick)((()=>{""!==l&&s.value[0]&&s.value[0].openChildCmp(l)}))},_=(0,n.computed)((()=>({dp__button:!0,dp__button_bottom:i}))),b=Ja(r,"timePicker"),C=(e,t,a)=>l.range?0===t?[e,g.value[1][a]]:[g.value[0][a],e]:e,B=e=>{a("update:hours",e)},S=e=>{a("update:minutes",e)},D=e=>{a("update:seconds",e)},V=()=>{c.value&&(null==m?void 0:m.value)&&c.value.focus({preventScroll:!0})};return t({toggleTimePicker:w}),(t,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",null,[t.timePicker?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)((0,n.unref)(_)),role:"button","aria-label":(0,n.unref)(d).openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:o,onKeydown:a[0]||(a[0]=(0,n.withKeys)((e=>w(!0)),["enter"])),onClick:a[1]||(a[1]=e=>w(!0))},[t.$slots["clock-icon"]?(0,n.renderSlot)(t.$slots,"clock-icon",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["clock-icon"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(De),{key:1}))],42,Qa)),(0,n.createVNode)(n.Transition,{name:(0,n.unref)(p)(k.value),css:(0,n.unref)(v)},{default:(0,n.withCtx)((()=>[k.value||t.timePicker?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:c,tabindex:"0"},[(0,n.createElementVNode)("div",en,[t.$slots["time-picker-overlay"]?(0,n.renderSlot)(t.$slots,"time-picker-overlay",{key:0,range:e.range,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:B,setMinutes:S,setSeconds:D}):(0,n.createCommentVNode)("",!0),t.$slots["time-picker-overlay"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",tn,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(g),((a,l)=>((0,n.openBlock)(),(0,n.createBlock)(Ga,(0,n.mergeProps)({key:l,disabled:0===l?t.fixedStart:t.fixedEnd,hours:a.hours,minutes:a.minutes,seconds:a.seconds,filters:e.filters,ref_for:!0,ref_key:"timeInputRefs",ref:s},{is24:t.is24,hoursGridIncrement:t.hoursGridIncrement,minutesGridIncrement:t.minutesGridIncrement,secondsGridIncrement:t.secondsGridIncrement,hoursIncrement:t.hoursIncrement,minutesIncrement:t.minutesIncrement,secondsIncrement:t.secondsIncrement,filters:e.filters,noHoursOverlay:t.noHoursOverlay,noMinutesOverlay:t.noMinutesOverlay,noSecondsOverlay:t.noSecondsOverlay,enableSeconds:t.enableSeconds,closeTimePickerBtn:u.value,order:l},{"onUpdate:hours":e=>B(C(e,l,"hours")),"onUpdate:minutes":e=>S(C(e,l,"minutes")),"onUpdate:seconds":e=>D(C(e,l,"seconds")),onMounted:V,onOverlayClosed:V}),(0,n.createSlots)({_:2},[(0,n.renderList)((0,n.unref)(b),((e,a)=>({name:e,fn:(0,n.withCtx)((a=>[(0,n.renderSlot)(t.$slots,e,(0,n.normalizeProps)((0,n.guardReactiveProps)(a)))]))})))]),1040,["disabled","hours","minutes","seconds","filters","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])))),128))])),t.timePicker?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:2,ref_key:"closeTimePickerBtn",ref:u,class:(0,n.normalizeClass)((0,n.unref)(_)),role:"button","aria-label":(0,n.unref)(d).closeTimePicker,tabindex:"0",onKeydown:a[2]||(a[2]=(0,n.withKeys)((e=>w(!1)),["enter"])),onClick:a[3]||(a[3]=e=>w(!1))},[t.$slots["calendar-icon"]?(0,n.renderSlot)(t.$slots,"calendar-icon",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["calendar-icon"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(ee),{key:1}))],42,an))])],512)):(0,n.createCommentVNode)("",!0)])),_:3},8,["name","css"])]))}}),ln=["aria-label"],rn=(0,n.defineComponent)({props:{ariaLabel:{type:String,default:""}},emits:["activate","setRef"],setup(e,{emit:t}){const a=(0,n.ref)(null);return(0,n.onMounted)((()=>t("setRef",a))),(t,l)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"dp__month_year_col_nav",onClick:l[0]||(l[0]=e=>t.$emit("activate")),onKeydown:l[1]||(l[1]=(0,n.withKeys)((e=>t.$emit("activate")),["enter"])),tabindex:"0",ref_key:"elRef",ref:a},[(0,n.createElementVNode)("div",{class:"dp__inner_nav",role:"button","aria-label":e.ariaLabel},[(0,n.renderSlot)(t.$slots,"default")],8,ln)],544))}}),on=["aria-label"],un=(0,n.defineComponent)({props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},headerRefs:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","setRef"],setup(e,{emit:t}){const{transitionName:a,showTransition:l}=Fa(),r=(0,n.ref)(null);return(0,n.onMounted)((()=>t("setRef",r))),(t,o)=>((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createElementVNode)("div",{class:"dp__month_year_select",onClick:o[0]||(o[0]=e=>t.$emit("toggle")),onKeydown:o[1]||(o[1]=(0,n.withKeys)((e=>t.$emit("toggle")),["enter"])),role:"button","aria-label":e.ariaLabel,tabindex:"0",ref_key:"elRef",ref:r},[(0,n.renderSlot)(t.$slots,"default")],40,on),(0,n.createVNode)(n.Transition,{name:(0,n.unref)(a)(e.showSelectionGrid),css:(0,n.unref)(l)},{default:(0,n.withCtx)((()=>[e.showSelectionGrid?((0,n.openBlock)(),(0,n.createBlock)(Ia,(0,n.mergeProps)({key:0},{modelValue:e.modelValue,items:e.items,disabledValues:e.disabledValues,minValue:e.minValue,maxValue:e.maxValue},{"header-refs":[],"onUpdate:modelValue":o[2]||(o[2]=e=>t.$emit("update:model-value",e)),onToggle:o[3]||(o[3]=e=>t.$emit("toggle"))}),(0,n.createSlots)({"button-icon":(0,n.withCtx)((()=>[t.$slots["calendar-icon"]?(0,n.renderSlot)(t.$slots,"calendar-icon",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["calendar-icon"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(ee),{key:1}))])),_:2},[t.$slots[e.slotName]?{name:"item",fn:(0,n.withCtx)((({item:a})=>[(0,n.renderSlot)(t.$slots,e.slotName,{item:a})]))}:void 0]),1040)):(0,n.createCommentVNode)("",!0)])),_:3},8,["name","css"])],64))}}),sn=(e,t,a)=>[(0,B.Z)(new Date(e),{date:1}),(0,B.Z)(new Date,{month:t,year:a,date:1})],cn=(e,t,a)=>et(...sn(e,t,a))||tt(...sn(e,t,a)),dn=(e,t,a)=>Qe(...sn(e,t,a))||tt(...sn(e,t,a)),mn=(e,t,a,n,l,r)=>{let o=!1;return r?e&&t?(t&&l&&dn(t,a,n)&&(o=!0),e&&!l&&cn(e,a,n)&&(o=!0)):(e&&cn(e,a,n)||t&&dn(t,a,n))&&(o=!0):o=!0,o},pn=(e,t)=>{const a=(t,n)=>{let l=t;return e.filters.months.includes((0,m.Z)(l))?(l=n?(0,d.Z)(t,1):(0,P.Z)(t,1),a(l,n)):l},n=(t,a)=>{let l=t;return e.filters.years.includes((0,p.Z)(l))?(l=a?(0,M.Z)(t,1):(0,$.Z)(t,1),n(l,a)):l},l=t=>{const l=(0,B.Z)(new Date,{month:e.month,year:e.year});let o=t?(0,d.Z)(l,1):(0,P.Z)(l,1),u=(0,m.Z)(o),i=(0,p.Z)(o);e.filters.months.includes(u)&&(o=a(o,t),u=(0,m.Z)(o),i=(0,p.Z)(o)),e.filters.years.includes(i)&&(o=n(o,t),i=(0,p.Z)(o)),mn(e.minDate,e.maxDate,u,i,t,e.preventMinMaxNavigation)&&r(u,i)},r=(e,a)=>{t("update:month",e),t("update:year",a)};return{handleMonthYearChange:l}},vn={class:"dp__month_year_row"},fn={class:"dp__month_picker_header"},yn=["aria-label"],kn=["aria-label","onKeydown"],hn=["aria-label"],gn=(0,n.defineComponent)({props:Y(L(L({},Ut),It),{preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},multiCalendarsSolo:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1}}),emits:["update:month","update:year","monthYearSelect","mount","reset-flow","overlay-closed"],setup(e,{expose:t,emit:a}){const l=e,{transitionName:r,showTransition:o}=Fa(),{buildMatrix:u}=ia(),i=(0,n.ref)(!1),s=(0,n.ref)(!1),c=(0,n.ref)([null,null,null,null]),d=(0,n.ref)(null),v=(0,n.ref)(null),f=(0,n.ref)(null),y=(0,n.inject)(Vt),k=(0,n.inject)($t),{handleMonthYearChange:h}=pn(l,a);(0,n.onMounted)((()=>{a("mount")}));const g=e=>({get:()=>l[e],set:t=>{a(`update:${e}`,t),a("monthYearSelect","year"===e),"month"===e?T(!0):E(!0)}}),w=(0,n.computed)(g("month")),_=(0,n.computed)(g("year")),b=(0,n.computed)((()=>e=>{const t="month"===e;return{showSelectionGrid:(t?i:s).value,items:(t?P:M).value,disabledValues:l.filters[t?"months":"years"],minValue:(t?S:C).value,maxValue:(t?D:B).value,headerRefs:t&&l.monthPicker?[d.value,v.value,f.value]:[]}})),C=(0,n.computed)((()=>l.minDate?(0,p.Z)(new Date(l.minDate)):null)),B=(0,n.computed)((()=>l.maxDate?(0,p.Z)(new Date(l.maxDate)):null)),S=(0,n.computed)((()=>{if(l.minDate&&C.value){if(C.value>l.year)return 12;if(C.value===l.year)return(0,m.Z)(new Date(l.minDate))}return null})),D=(0,n.computed)((()=>{if(l.maxDate&&B.value){if(B.value<l.year)return-1;if(B.value===l.year)return(0,m.Z)(new Date(l.maxDate))}return null})),V=(0,n.computed)((()=>l.range&&l.internalModelValue&&l.monthPicker?l.internalModelValue:[])),N=(e,t=!1)=>{const a=[];for(let n=0;n<e.length;n+=3){const l=[e[n],e[n+1],e[n+2]];a.push(t?l.reverse():l)}return t?a.reverse():a},x=(0,n.computed)((()=>{const e=l.months.find((e=>e.value===l.month));return e||{text:"",value:0}})),P=(0,n.computed)((()=>N(l.months))),M=(0,n.computed)((()=>N(l.years,l.reverseYears))),$=(0,n.computed)((()=>!l.multiCalendars||(!!l.multiCalendarsSolo||0===l.instance))),A=(0,n.computed)((()=>!l.multiCalendars||(!!l.multiCalendarsSolo||l.instance===l.multiCalendars-1))),T=(e=!1)=>{Z(e),i.value=!i.value,i.value||a("overlay-closed")},E=(e=!1)=>{Z(e),s.value=!s.value,s.value||a("overlay-closed")},Z=e=>{e||a("reset-flow")},O=(e=!1)=>{a("update:year",e?l.year+1:l.year-1)},R=(e,t)=>{null!=k&&k.value&&(c.value[t]=Ct(e),u(c.value,"monthYear"))};return t({toggleMonthPicker:T,toggleYearPicker:E}),(t,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",vn,[t.monthPicker||e.yearPicker?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.unref)($)&&!t.vertical?((0,n.openBlock)(),(0,n.createBlock)(rn,{key:0,"aria-label":(0,n.unref)(y).prevMonth,onActivate:a[0]||(a[0]=e=>(0,n.unref)(h)(!1)),onSetRef:a[1]||(a[1]=e=>R(e,0))},{default:(0,n.withCtx)((()=>[t.$slots["arrow-left"]?(0,n.renderSlot)(t.$slots,"arrow-left",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["arrow-left"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(pe),{key:1}))])),_:3},8,["aria-label"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(un,(0,n.mergeProps)({"aria-label":(0,n.unref)(y).openMonthsOverlay,"slot-name":"month-overlay",modelValue:(0,n.unref)(w),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,n.isRef)(w)?w.value=e:null)},(0,n.unref)(b)("month"),{onToggle:T,onSetRef:a[3]||(a[3]=e=>R(e,1))}),(0,n.createSlots)({default:(0,n.withCtx)((()=>[t.$slots.month?(0,n.renderSlot)(t.$slots,"month",(0,n.normalizeProps)((0,n.mergeProps)({key:0},(0,n.unref)(x)))):(0,n.createCommentVNode)("",!0),t.$slots.month?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)((0,n.unref)(x).text),1)],64))])),_:2},[t.$slots["calendar-icon"]?{name:"calendar-icon",fn:(0,n.withCtx)((()=>[(0,n.renderSlot)(t.$slots,"calendar-icon")]))}:void 0,t.$slots["month-overlay"]?{name:"month-overlay",fn:(0,n.withCtx)((({item:e})=>[(0,n.renderSlot)(t.$slots,"month-overlay",{text:e.text,value:e.value})]))}:void 0]),1040,["aria-label","modelValue"]),(0,n.createVNode)(un,(0,n.mergeProps)({"aria-label":(0,n.unref)(y).openYearsOverlay,"slot-name":"year-overlay",modelValue:(0,n.unref)(_),"onUpdate:modelValue":a[4]||(a[4]=e=>(0,n.isRef)(_)?_.value=e:null)},(0,n.unref)(b)("year"),{onToggle:E,onSetRef:a[5]||(a[5]=e=>R(e,2))}),(0,n.createSlots)({default:(0,n.withCtx)((()=>[t.$slots.year?(0,n.renderSlot)(t.$slots,"year",{key:0,year:t.year}):(0,n.createCommentVNode)("",!0),t.$slots.year?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)(t.year),1)],64))])),_:2},[t.$slots["calendar-icon"]?{name:"calendar-icon",fn:(0,n.withCtx)((()=>[(0,n.renderSlot)(t.$slots,"calendar-icon")]))}:void 0,t.$slots["year-overlay"]?{name:"year-overlay",fn:(0,n.withCtx)((({item:e})=>[(0,n.renderSlot)(t.$slots,"year-overlay",{text:e.text,value:e.value})]))}:void 0]),1040,["aria-label","modelValue"]),(0,n.unref)($)&&t.vertical?((0,n.openBlock)(),(0,n.createBlock)(rn,{key:1,"aria-label":(0,n.unref)(y).prevMonth,onActivate:a[6]||(a[6]=e=>(0,n.unref)(h)(!1))},{default:(0,n.withCtx)((()=>[t.$slots["arrow-up"]?(0,n.renderSlot)(t.$slots,"arrow-up",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["arrow-up"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)($e),{key:1}))])),_:3},8,["aria-label"])):(0,n.createCommentVNode)("",!0),(0,n.unref)(A)?((0,n.openBlock)(),(0,n.createBlock)(rn,{key:2,"arial-label":(0,n.unref)(y).nextMonth,onActivate:a[7]||(a[7]=e=>(0,n.unref)(h)(!0)),ref:"rightIcon",onSetRef:a[8]||(a[8]=e=>R(e,3))},{default:(0,n.withCtx)((()=>[t.$slots[t.vertical?"arrow-down":"arrow-right"]?(0,n.renderSlot)(t.$slots,t.vertical?"arrow-down":"arrow-right",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots[t.vertical?"arrow-down":"arrow-right"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(t.vertical?(0,n.unref)(Re):(0,n.unref)(ge)),{key:1}))])),_:3},8,["arial-label"])):(0,n.createCommentVNode)("",!0)],64)),t.monthPicker?((0,n.openBlock)(),(0,n.createBlock)(Ia,(0,n.mergeProps)({key:1},(0,n.unref)(b)("month"),{"skip-active":l.range,year:t.year,"multi-model-value":(0,n.unref)(V),modelValue:(0,n.unref)(w),"onUpdate:modelValue":a[15]||(a[15]=e=>(0,n.isRef)(w)?w.value=e:null),onToggle:T,onSelected:a[16]||(a[16]=e=>t.$emit("overlay-closed"))}),(0,n.createSlots)({header:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",fn,[(0,n.createElementVNode)("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:d,onClick:a[9]||(a[9]=e=>O(!1)),onKeydown:a[10]||(a[10]=(0,n.withKeys)((e=>O(!1)),["enter"]))},[(0,n.createElementVNode)("div",{class:"dp__inner_nav",role:"button","aria-label":(0,n.unref)(y).prevMonth},[t.$slots["arrow-left"]?(0,n.renderSlot)(t.$slots,"arrow-left",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["arrow-left"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(pe),{key:1}))],8,yn)],544),(0,n.createElementVNode)("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:v,"aria-label":(0,n.unref)(y).openYearsOverlay,tabindex:"0",onClick:E,onKeydown:(0,n.withKeys)(E,["enter"])},[t.$slots.year?(0,n.renderSlot)(t.$slots,"year",{key:0,year:t.year}):(0,n.createCommentVNode)("",!0),t.$slots.year?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createTextVNode)((0,n.toDisplayString)(t.year),1)],64))],40,kn),(0,n.createElementVNode)("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:f,onClick:a[11]||(a[11]=e=>O(!0)),onKeydown:a[12]||(a[12]=(0,n.withKeys)((e=>O(!0)),["enter"]))},[(0,n.createElementVNode)("div",{class:"dp__inner_nav",role:"button","aria-label":(0,n.unref)(y).nextMonth},[t.$slots["arrow-right"]?(0,n.renderSlot)(t.$slots,"arrow-right",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["arrow-right"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(ge),{key:1}))],8,hn)],544)]),(0,n.createVNode)(n.Transition,{name:(0,n.unref)(r)(s.value),css:(0,n.unref)(o)},{default:(0,n.withCtx)((()=>[s.value?((0,n.openBlock)(),(0,n.createBlock)(Ia,(0,n.mergeProps)({key:0},(0,n.unref)(b)("year"),{modelValue:(0,n.unref)(_),"onUpdate:modelValue":a[13]||(a[13]=e=>(0,n.isRef)(_)?_.value=e:null),onToggle:E,onSelected:a[14]||(a[14]=e=>t.$emit("overlay-closed"))}),(0,n.createSlots)({"button-icon":(0,n.withCtx)((()=>[t.$slots["calendar-icon"]?(0,n.renderSlot)(t.$slots,"calendar-icon",{key:0}):(0,n.createCommentVNode)("",!0),t.$slots["calendar-icon"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(ee),{key:1}))])),_:2},[t.$slots["year-overlay"]?{name:"item",fn:(0,n.withCtx)((({item:e})=>[(0,n.renderSlot)(t.$slots,"year-overlay",{text:e.text,value:e.value})]))}:void 0]),1040,["modelValue"])):(0,n.createCommentVNode)("",!0)])),_:3},8,["name","css"])])),_:2},[t.$slots["month-overlay"]?{name:"item",fn:(0,n.withCtx)((({item:e})=>[(0,n.renderSlot)(t.$slots,"month-overlay",{text:e.text,value:e.value})]))}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):(0,n.createCommentVNode)("",!0),e.yearPicker?((0,n.openBlock)(),(0,n.createBlock)(Ia,(0,n.mergeProps)({key:2},(0,n.unref)(b)("year"),{modelValue:(0,n.unref)(_),"onUpdate:modelValue":a[17]||(a[17]=e=>(0,n.isRef)(_)?_.value=e:null),"skip-button-ref":"",onToggle:E,onSelected:a[18]||(a[18]=e=>t.$emit("overlay-closed"))}),(0,n.createSlots)({_:2},[t.$slots["year-overlay"]?{name:"item",fn:(0,n.withCtx)((({item:e})=>[(0,n.renderSlot)(t.$slots,"year-overlay",{text:e.text,value:e.value})]))}:void 0]),1040,["modelValue"])):(0,n.createCommentVNode)("",!0)]))}}),wn=(e,t,a,l)=>{const r=(0,n.ref)(new Date),o=(0,n.ref)(),u=(0,n.ref)([{month:(0,m.Z)(new Date),year:(0,p.Z)(new Date)}]),i=(0,n.ref)(e.range?[(0,y.Z)(new Date),(0,y.Z)(new Date)]:(0,y.Z)(new Date)),s=(0,n.ref)(e.range?[(0,k.Z)(new Date),(0,k.Z)(new Date)]:(0,k.Z)(new Date)),v=(0,n.ref)(e.range?[0,0]:0);(0,n.watch)(u,(()=>{setTimeout((()=>{e.openOnTop&&t("dpOpen")}),0)}),{deep:!0}),(0,n.onMounted)((()=>{L(),$.value||(e.startDate&&(u.value[0].month=(0,m.Z)(new Date(e.startDate)),u.value[0].year=(0,p.Z)(new Date(e.startDate)),e.multiCalendars&&ae(0)),e.startTime&&M())}));const g=(0,n.computed)((()=>e=>u.value[e]?u.value[e].month:0)),b=(0,n.computed)((()=>e=>u.value[e]?u.value[e].year:0)),S=(e,t,a)=>{u.value[e].month=t,u.value[e].year=a},D=(e,t)=>u.value[e].month=t,V=(e,t)=>u.value[e].year=t,N=(t=!0)=>e.enableSeconds?Array.isArray(v.value)?t?v.value[0]:v.value[1]:v.value:0,M=()=>{e.startTime&&(Na(e.startTime)?(i.value=[+e.startTime[0].hours,+e.startTime[1].hours],s.value=[+e.startTime[0].minutes,+e.startTime[1].minutes],e.enableSeconds&&(v.value=[+e.startTime[0].seconds,+e.startTime[1].seconds])):(i.value=+e.startTime.hours,s.value=+e.startTime.minutes,e.enableSeconds&&(v.value=+e.startTime.seconds)))},$=(0,n.computed)({get:()=>e.internalModelValue,set:a=>{!e.readonly&&!e.disabled&&t("update:internalModelValue",a)}});(0,n.watch)($,(()=>L()));const Z=t=>{const{validate:a}=mt(e.minDate,e.maxDate,e.disabledDates,e.allowedDates,e.filters,e.disabledWeekDays,e.yearRange);return!a(t)},O=t=>!(!$.value||e.hideOffsetDates&&!t.current||e.range)&&(e.multiDates&&Array.isArray($.value)?$.value.some((e=>tt(e,t.value))):tt(t.value,$.value?$.value:r.value)),R=e=>st($.value,o.value,e.value),I=t=>{if((!e.multiCalendars||!e.multiStatic)&&(D(0,(0,m.Z)(t)),V(0,(0,p.Z)(t))),e.multiCalendars)for(let a=1;a<=e.multiCalendars;a++){const e=(0,B.Z)(new Date,{month:g.value(a-1),year:b.value(a-1)}),t=(0,C.Z)(e,{months:1});u.value[a]={month:(0,m.Z)(t),year:(0,p.Z)(t)}}},F=()=>{if(Array.isArray($.value)&&2===$.value.length){const t=new Date($.value[1]?$.value[1]:(0,d.Z)($.value[0],1)),[a,n]=[(0,m.Z)($.value[0]),(0,p.Z)($.value[0])],[l,r]=[(0,m.Z)($.value[1]),(0,p.Z)($.value[1])];(a!==l||a===l&&n!==r)&&e.multiCalendarsSolo&&(D(1,(0,m.Z)(t)),V(1,(0,p.Z)(t)))}},K=e=>{I(e),i.value=(0,y.Z)(e),s.value=(0,k.Z)(e),v.value=(0,h.Z)(e)},j=()=>Array.isArray($.value)&&$.value.length?$.value[$.value.length-1]:null,L=()=>{if($.value)if(Ba($.value)){if(2!==$.value.length||e.multiDates){if(Ba($.value)&&e.multiDates){const e=$.value[$.value.length-1];e&&K(e)}}else I($.value[0]),i.value=[(0,y.Z)($.value[0]),$.value[1]?(0,y.Z)($.value[1]):(0,y.Z)(new Date)],s.value=[(0,k.Z)($.value[0]),$.value[1]?(0,k.Z)($.value[1]):(0,k.Z)(new Date)],v.value=[(0,h.Z)($.value[0]),$.value[1]?(0,h.Z)($.value[1]):(0,h.Z)(new Date)];e.multiCalendars&&e.multiCalendarsSolo&&F()}else K($.value);else e.timePicker?(M(),e.range?Sa(i.value)&&Sa(s.value)&&($.value=[je(new Date,i.value[0],s.value[0],N()),je(new Date,i.value[1],s.value[1],N(!1))]):$.value=je(new Date,i.value,s.value,N())):e.monthPicker&&!e.range?$.value=Ye(new Date,g.value(0),b.value(0)):e.multiCalendars?I(new Date):e.yearPicker&&($.value=new Date)},Y=t=>{const a=(0,m.Z)(new Date(t)),n=(0,p.Z)(new Date(t));if(D(0,a),V(0,n),e.multiCalendars>0)for(let l=1;l<e.multiCalendars;l++){const e=Le((0,B.Z)(new Date(t),{year:g.value(l-1),month:b.value(l-1)}));D(l,e.month),V(l,e.year)}},z=t=>{if($.value&&Array.isArray($.value))if($.value.some((e=>tt(t,e)))){const e=$.value.filter((e=>!tt(e,t)));$.value=e.length?e:null}else(e.multiDatesLimit&&+e.multiDatesLimit>$.value.length||!e.multiDatesLimit)&&$.value.push(t);else $.value=[t]},U=t=>{if(Array.isArray($.value)&&$.value[0]){const a=(0,A.Z)(t,$.value[0]),n=Math.abs(a<0?a+1:a-1);if(e.minRange&&e.maxRange)return n>=+e.minRange&&n<=+e.maxRange;if(e.minRange)return n>=+e.minRange;if(e.maxRange)return n<=+e.maxRange}return!0},H=t=>Array.isArray($.value)&&2===$.value.length?e.fixedStart&&(Qe(t,$.value[0])||tt(t,$.value[0]))?[$.value[0],t]:e.fixedEnd&&(et(t,$.value[1])||tt(t,$.value[1]))?[t,$.value[1]]:$.value:[],G=()=>{e.autoApply&&t("autoApply")},W=e=>!(0,T.Z)({start:e[0],end:e[1]}).some((e=>Z(e))),X=(n,l=!1)=>{if(!Z(n.value)&&(n.current||!e.hideOffsetDates)){if(e.weekPicker)return $.value=ct(new Date(n.value),+e.weekStart),G();if(e.range||Sa(i.value)||Sa(s.value)){if(Sa(i.value)&&Sa(s.value)&&!e.multiDates){let r=$.value?$.value.slice():[];if(2===r.length&&!(e.fixedStart||e.fixedEnd)&&(r=[]),e.autoRange){const t=[new Date(n.value),(0,x.Z)(new Date(n.value),+e.autoRange)];W(t)&&(l&&Y(n.value),r=t)}else e.fixedStart||e.fixedEnd?r=H(new Date(n.value)):r[0]?U(new Date(n.value))&&(et(new Date(n.value),new Date(r[0]))?r.unshift(new Date(n.value)):r[1]=new Date(n.value)):r[0]=new Date(n.value);r.length&&(r[0]&&!r[1]?r[0]=je(r[0],i.value[0],s.value[0],N()):(r[0]=je(r[0],i.value[0],s.value[0],N()),r[1]=je(r[1],i.value[1],s.value[1],N(!1)),a()),$.value=r,r[0]&&r[1]&&e.autoApply&&t("autoApply"))}}else{const t=je(new Date(n.value),i.value,s.value,N());e.multiDates?z(t):$.value=t,a(),G()}}},q=e=>{const t=e.find((e=>e.current));return t?(0,E.Z)(t.value):""},J=t=>{!t.current&&e.hideOffsetDates||(o.value=t.value)},Q=t=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!t.current)return!1;const a=(0,x.Z)(o.value,+e.autoRange),n=ct(new Date(o.value),+e.weekStart);return e.weekPicker?tt(n[1],new Date(t.value)):tt(a,new Date(t.value))}return!1}return!1},ee=t=>{if(e.autoRange||e.weekPicker){if(o.value){const a=(0,x.Z)(o.value,+e.autoRange);if(e.hideOffsetDates&&!t.current)return!1;const n=ct(new Date(o.value),+e.weekStart);return e.weekPicker?Qe(t.value,n[0])&&et(t.value,n[1]):Qe(t.value,o.value)&&et(t.value,a)}return!1}return!1},te=t=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!t.current)return!1;const a=ct(new Date(o.value),+e.weekStart);return e.weekPicker?tt(a[0],t.value):tt(o.value,t.value)}return!1}return!1},ae=t=>{for(let e=t-1;e>=0;e--){const t=(0,P.Z)((0,B.Z)(new Date,{month:g.value(e+1),year:b.value(e+1)}),1);S(e,(0,m.Z)(t),(0,p.Z)(t))}for(let a=t+1;a<=e.multiCalendars-1;a++){const e=(0,d.Z)((0,B.Z)(new Date,{month:g.value(a-1),year:b.value(a-1)}),1);S(a,(0,m.Z)(e),(0,p.Z)(e))}},ne=e=>Ye(new Date,g.value(e),b.value(e)),le=(n,l,r=!0)=>{if(r?D(n,l):V(n,l),e.multiCalendars&&!e.multiCalendarsSolo&&ae(n),e.monthPicker)if(e.range){if(r){let e=$.value?$.value.slice():[];2===e.length&&null!==e[1]&&(e=[]),e.length?et(ne(n),e[0])?e.unshift(ne(n)):e[1]=ne(n):e=[ne(n)],$.value=e}}else $.value=ne(n);a(),t("updateMonthYear",{instance:n,value:l,isMonth:r}),_e(e.multiCalendarsSolo?n:void 0)},re=e=>je(e,i.value,s.value,N()),oe=a=>{Ba(a)&&Ba($.value)&&Sa(i.value)&&Sa(s.value)?(a[0]&&$.value[0]&&($.value[0]=je(a[0],i.value[0],s.value[0],N())),a[1]&&$.value[1]&&($.value[1]=je(a[1],i.value[1],s.value[1],N(!1)))):e.multiDates&&Array.isArray($.value)?$.value[$.value.length-1]=re(a):!e.range&&!Da(a)&&($.value=re(a)),t("timeUpdate")},ue=(t,n=!0,l=!1)=>{const r=n?t:i.value,o=n||l?s.value:t,u=l?t:v.value;if(e.range&&Da($.value)&&Sa(r)&&Sa(o)&&Sa(u)){const e=e=>je($.value[e],r[e],o[e],u[e]),t=e=>(0,c.Z)($.value[e],0);if(tt($.value[0],$.value[1])&&((0,w.Z)(e(0),t(1))||(0,_.Z)(e(1),t(0))))return}if(i.value=r,s.value=o,v.value=u,$.value)if(e.multiDates){const e=j();e&&oe(e)}else oe($.value);else e.timePicker&&oe(e.range?[new Date,new Date]:new Date);a()},ie=()=>{o.value=null},se=t=>!(wa($.value,e.range)&&$.value[0]&&o.value)||(t?Qe(o.value,$.value[0]):et(o.value,$.value[0])),ce=(t,a=!0)=>(e.range||e.weekPicker)&&Da($.value)?!(e.hideOffsetDates&&!t.current)&&tt(new Date(t.value),$.value[a?0:1]):!!e.range&&(tt(new Date(t.value),$.value&&Array.isArray($.value)?a?$.value[0]||null:$.value[1]:null)&&(!a||!et(o.value||null,Array.isArray($.value)?$.value[0]:null))||tt(t.value,Array.isArray($.value)?$.value[0]:null)&&se(a)),de=(t,a)=>!(Array.isArray(e.internalModelValue)&&e.internalModelValue.length||e.weekPicker)&&(!t&&!O(a)&&!(!a.current&&e.hideOffsetDates)&&(!e.range||!ce(a)&&!ce(a,!1))),me=(t,a,n)=>!(!Array.isArray(e.internalModelValue)||!e.internalModelValue[0]||1!==e.internalModelValue.length)&&(!t&&(n?Qe(e.internalModelValue[0],a.value):et(e.internalModelValue[0],a.value))),pe=(a=!1)=>{a&&e.yearPicker&&($.value=(0,f.Z)(new Date,u.value[0].year),e.autoApply&&t("autoApply")),e.autoApply&&e.monthPicker&&(0,n.nextTick)().then((()=>{e.range?t("autoApply",a||!$.value||1===$.value.length):t("autoApply",a)}))},ve=(t,a)=>{const n=(0,B.Z)(new Date,{month:g.value(a),year:b.value(a)}),l=t<0?(0,d.Z)(n,1):(0,P.Z)(n,1);mn(e.minDate,e.maxDate,(0,m.Z)(l),(0,p.Z)(l),t<0,e.preventMinMaxNavigation)&&(S(a,(0,m.Z)(l),(0,p.Z)(l)),e.multiCalendars&&!e.multiCalendarsSolo&&ae(a),_e())},fe=(t,a)=>{e.monthChangeOnScroll&&ve("inverse"!==e.monthChangeOnScroll?-t.deltaY:t.deltaY,a)},ye=(t,a,n=!1)=>{e.monthChangeOnArrows&&e.vertical===n&&ke(t,a)},ke=(e,t)=>{ve("right"===e?-1:1,t)},he=t=>e.markers.find((e=>tt(it(new Date(t.value)),it(new Date(e.date))))),ge=()=>{e.range?wa($.value,e.range)&&($.value&&$.value[0]?$.value=et(new Date,$.value[0])?[new Date,$.value[0]]:[$.value[0],new Date]:$.value=[new Date]):t("update:internalModelValue",new Date),e.autoApply&&t("selectDate")},we=a=>{a.length&&a.length<=2&&e.range&&($.value=a.map((e=>new Date(e))),e.autoApply&&t("selectDate"))},_e=e=>{e||0===e?l.value[e].triggerTransition(g.value(e),b.value(e)):l.value.forEach(((e,t)=>e.triggerTransition(g.value(t),b.value(t))))};return{today:r,hours:i,minutes:s,seconds:v,month:g,year:b,monthYearSelect:pe,isDisabled:Z,updateTime:ue,setHoverDate:J,getWeekNum:q,selectDate:X,rangeActive:R,isActiveDate:O,updateMonthYear:le,isHoverRangeEnd:Q,isAutoRangeInBetween:ee,isAutoRangeStart:te,clearHoverDate:ie,rangeActiveStartEnd:ce,handleScroll:fe,getMarker:he,handleArrow:ye,handleSwipe:ke,selectCurrentDate:ge,isHoverDate:de,isHoverDateStartEnd:me,presetDateRange:we}},_n=["id","aria-label","onKeydown"],bn={key:0,class:"dp__preset_ranges"},Cn=["onClick"],Bn={key:1,class:"dp__now_wrap"},Sn=(0,n.defineComponent)({props:Y(L(L(L({},Lt),Tt),At),{internalModelValue:{type:[Date,Array],default:null},multiCalendars:{type:Number,default:0},openOnTop:{type:Boolean,default:!1}}),emits:["update:internalModelValue","closePicker","selectDate","dpOpen","autoApply","timeUpdate","flow-step","updateMonthYear"],setup(e,{emit:t}){const a=e,l=(0,n.useSlots)(),r=(0,n.ref)(null),o=(0,n.reactive)({timePicker:!(a.enableTimePicker&&!a.timePicker&&!a.monthPicker),monthYearInput:!!a.timePicker,calendar:!1}),u=(0,n.ref)([]),i=(0,n.ref)([]),s=(0,n.ref)(null),c=(0,n.ref)(null),d=(0,n.ref)(0),m=(0,n.ref)(!1),p=(0,n.ref)(0),v=(0,n.inject)(Nt),f=(0,n.inject)(Vt),y=(0,n.inject)($t),{setMenuFocused:k,setShiftKey:h}=Gt();(0,n.onMounted)((()=>{var e;m.value=!0,null!=(e=a.presetRanges)&&e.length||se();const t=Ct(c);if(t&&!a.textInput&&!a.inline&&(k(!0),C()),t){const e=e=>{e.stopImmediatePropagation(),e.stopPropagation()};t.addEventListener("pointerdown",e),t.addEventListener("mousedown",e)}document.addEventListener("resize",se)})),(0,n.onUnmounted)((()=>{document.removeEventListener("resize",se)}));const{arrowRight:g,arrowLeft:w,arrowDown:_,arrowUp:b}=ia(),C=()=>{const e=Ct(c);e&&e.focus({preventScroll:!0})},B=()=>{var e;(null==(e=a.flow)?void 0:e.length)&&-1!==p.value&&(p.value+=1,t("flow-step",p.value),Se())},S=()=>{p.value=-1},{updateTime:D,updateMonthYear:V,today:N,month:x,year:P,hours:M,minutes:$,seconds:A,isDisabled:T,isActiveDate:E,selectDate:Z,getWeekNum:O,setHoverDate:R,isHoverRangeEnd:I,isAutoRangeInBetween:F,isAutoRangeStart:K,rangeActive:j,clearHoverDate:z,rangeActiveStartEnd:U,monthYearSelect:H,handleScroll:G,handleArrow:W,handleSwipe:X,getMarker:q,selectCurrentDate:J,isHoverDateStartEnd:Q,isHoverDate:ee,presetDateRange:te}=wn(a,t,B,i),ae=Ja(l,"calendar"),ne=Ja(l,"action"),le=Ja(l,"timePicker"),re=Ja(l,"monthYear"),oe=(0,n.computed)((()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top")),ue=(0,n.computed)((()=>kt(a.yearRange))),ie=(0,n.computed)((()=>ht(a.locale,a.monthNameFormat))),se=()=>{const e=Ct(r);e&&(d.value=e.getBoundingClientRect().width)},ce=(0,n.computed)((()=>e=>vt(x.value(e),P.value(e),+a.weekStart,a.hideOffsetDates))),de=(0,n.computed)((()=>a.multiCalendars>0&&a.range?[...Array(a.multiCalendars).keys()]:[0])),me=(0,n.computed)((()=>e=>1===e)),pe=(0,n.computed)((()=>a.monthPicker||a.timePicker||a.yearPicker)),ve=(0,n.computed)((()=>({dp__flex_display:a.multiCalendars>0}))),fe=(0,n.computed)((()=>({dp__instance_calendar:a.multiCalendars>0}))),ye=(0,n.computed)((()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly}))),ke=(0,n.computed)((()=>e=>we(ce,e))),he=(0,n.computed)((()=>({locale:a.locale,weekNumName:a.weekNumName,weekStart:a.weekStart,weekNumbers:a.weekNumbers,customProps:a.customProps,calendarClassName:a.calendarClassName,specificMode:pe.value,getWeekNum:O,multiCalendars:a.multiCalendars,modeHeight:a.modeHeight,internalModelValue:a.internalModelValue,noSwipe:a.noSwipe,vertical:a.vertical}))),ge=(0,n.computed)((()=>({dp__menu:!0,dp__menu_index:!a.inline,dp__relative:a.inline,[a.menuClassName]:!!a.menuClassName}))),we=(e,t)=>e.value(t).map((e=>Y(L({},e),{days:e.days.map((e=>{const t=T(e.value),n=ee(t,e),l=!(!a.range&&!a.weekPicker||a.multiCalendars>0&&!e.current||t||!e.current&&a.hideOffsetDates||E(e))&&j(e);return e.marker=q(e),e.classData={dp__cell_offset:!e.current,dp__pointer:!t&&!(!e.current&&a.hideOffsetDates),dp__active_date:!a.range&&E(e),dp__date_hover:n,dp__date_hover_start:Q(n,e,!0),dp__date_hover_end:Q(n,e,!1),dp__range_between:l&&!a.weekPicker,dp__range_between_week:l&&a.weekPicker,dp__today:!a.noToday&&tt(e.value,N.value)&&e.current,dp__cell_disabled:t,dp__cell_auto_range:F(e),dp__cell_auto_range_start:K(e),dp__cell_auto_range_end:I(e),dp__range_start:a.multiCalendars>0?e.current&&U(e):U(e),dp__range_end:a.multiCalendars>0?e.current&&U(e,!1):U(e,!1),[a.calendarCellClassName]:!!a.calendarCellClassName},e}))}))),_e=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},be=()=>{a.escClose&&t("closePicker")},Ce=e=>{e.stopImmediatePropagation(),e.preventDefault(),a.spaceConfirm&&t("selectDate")},Be=e=>{var t;null!=(t=a.flow)&&t.length&&(o[e]=!0,Object.keys(o).filter((e=>!o[e])).length||Se())},Se=()=>{"month"===a.flow[p.value]&&u.value[0]&&u.value[0].toggleMonthPicker(!0),"year"===a.flow[p.value]&&u.value&&u.value[0].toggleYearPicker(!0),"calendar"===a.flow[p.value]&&s.value&&s.value.toggleTimePicker(!1,!0),"time"===a.flow[p.value]&&s.value&&s.value.toggleTimePicker(!0,!0);const e=a.flow[p.value];("hours"===e||"minutes"===e||"seconds"===e)&&s.value&&s.value.toggleTimePicker(!0,!0,e)},De=e=>{if(null!=y&&y.value){if("up"===e)return b();if("down"===e)return _();if("left"===e)return w();if("right"===e)return g()}else"left"===e||"up"===e?W("left",0,"up"===e):W("right",0,"down"===e)},Ve=e=>{h(e.shiftKey)};return(t,a)=>((0,n.openBlock)(),(0,n.createBlock)(n.Transition,{appear:"",name:(0,n.unref)(v).menuAppear,mode:"out-in",css:!!(0,n.unref)(v)},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",{id:t.uid?`dp-menu-${t.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:c,role:"dialog","aria-label":(0,n.unref)(f).menu,class:(0,n.normalizeClass)((0,n.unref)(ge)),onMouseleave:a[11]||(a[11]=(...e)=>(0,n.unref)(z)&&(0,n.unref)(z)(...e)),onClick:_e,onKeydown:[(0,n.withKeys)(be,["esc"]),(0,n.withKeys)(Ce,["space"]),a[12]||(a[12]=(0,n.withKeys)((0,n.withModifiers)((e=>De("left")),["prevent"]),["left"])),a[13]||(a[13]=(0,n.withKeys)((0,n.withModifiers)((e=>De("up")),["prevent"]),["up"])),a[14]||(a[14]=(0,n.withKeys)((0,n.withModifiers)((e=>De("down")),["prevent"]),["down"])),a[15]||(a[15]=(0,n.withKeys)((0,n.withModifiers)((e=>De("right")),["prevent"]),["right"])),Ve]},[(t.disabled||t.readonly)&&t.inline?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,class:(0,n.normalizeClass)((0,n.unref)(ye))},null,2)):(0,n.createCommentVNode)("",!0),t.inline?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:1,class:(0,n.normalizeClass)((0,n.unref)(oe))},null,2)),(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(t.presetRanges.length?"dp__menu_content_wrapper":null)},[t.presetRanges.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",bn,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t.presetRanges,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:t,class:"dp__preset_range",onClick:t=>(0,n.unref)(te)(e.range)},(0,n.toDisplayString)(e.label),9,Cn)))),128))])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:r,role:"document"},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)((0,n.unref)(ve))},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(de),((l,r)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:l,class:(0,n.normalizeClass)((0,n.unref)(fe))},[t.disableMonthYearSelect||t.timePicker?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(t.monthYearComponent?t.monthYearComponent:gn),(0,n.mergeProps)({key:0,ref_for:!0,ref:e=>{e&&(u.value[r]=e)}},{months:(0,n.unref)(ie),years:(0,n.unref)(ue),filters:t.filters,monthPicker:t.monthPicker,month:(0,n.unref)(x)(l),year:(0,n.unref)(P)(l),customProps:t.customProps,multiCalendars:e.multiCalendars,multiCalendarsSolo:t.multiCalendarsSolo,instance:l,minDate:t.minDate,maxDate:t.maxDate,preventMinMaxNavigation:t.preventMinMaxNavigation,internalModelValue:e.internalModelValue,range:t.range,reverseYears:t.reverseYears,vertical:t.vertical,yearPicker:t.yearPicker},{onMount:a[0]||(a[0]=e=>Be("monthYearInput")),onResetFlow:S,"onUpdate:month":e=>(0,n.unref)(V)(l,e,!0),"onUpdate:year":e=>(0,n.unref)(V)(l,e,!1),onMonthYearSelect:(0,n.unref)(H),onOverlayClosed:C}),(0,n.createSlots)({_:2},[(0,n.renderList)((0,n.unref)(re),((e,a)=>({name:e,fn:(0,n.withCtx)((a=>[(0,n.renderSlot)(t.$slots,e,(0,n.normalizeProps)((0,n.guardReactiveProps)(a)))]))})))]),1040,["onUpdate:month","onUpdate:year","onMonthYearSelect"])),(0,n.createVNode)(ha,(0,n.mergeProps)({ref_for:!0,ref:e=>{e&&(i.value[r]=e)}},(0,n.unref)(he),{"flow-step":p.value,"onUpdate:flow-step":a[1]||(a[1]=e=>p.value=e),instance:l,"mapped-dates":(0,n.unref)(ke)(l),month:(0,n.unref)(x)(l),year:(0,n.unref)(P)(l),onSelectDate:e=>(0,n.unref)(Z)(e,!(0,n.unref)(me)(l)),onSetHoverDate:a[2]||(a[2]=e=>(0,n.unref)(R)(e)),onHandleScroll:e=>(0,n.unref)(G)(e,l),onHandleSwipe:e=>(0,n.unref)(X)(e,l),onMount:a[3]||(a[3]=e=>Be("calendar")),onResetFlow:S}),(0,n.createSlots)({_:2},[(0,n.renderList)((0,n.unref)(ae),((e,a)=>({name:e,fn:(0,n.withCtx)((a=>[(0,n.renderSlot)(t.$slots,e,(0,n.normalizeProps)((0,n.guardReactiveProps)(L({},a))))]))})))]),1040,["flow-step","instance","mapped-dates","month","year","onSelectDate","onHandleScroll","onHandleSwipe"])],2)))),128))],2),(0,n.createElementVNode)("div",null,[!t.enableTimePicker||t.monthPicker||t.weekPicker?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(t.timePickerComponent?t.timePickerComponent:nn),(0,n.mergeProps)({key:0,ref_key:"timePickerRef",ref:s},{is24:t.is24,hoursIncrement:t.hoursIncrement,minutesIncrement:t.minutesIncrement,hoursGridIncrement:t.hoursGridIncrement,secondsIncrement:t.secondsIncrement,minutesGridIncrement:t.minutesGridIncrement,secondsGridIncrement:t.secondsGridIncrement,noHoursOverlay:t.noHoursOverlay,noMinutesOverlay:t.noMinutesOverlay,noSecondsOverlay:t.noSecondsOverlay,range:t.range,filters:t.filters,timePicker:t.timePicker,hours:(0,n.unref)(M),minutes:(0,n.unref)($),seconds:(0,n.unref)(A),customProps:t.customProps,enableSeconds:t.enableSeconds,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd},{onMount:a[4]||(a[4]=e=>Be("timePicker")),"onUpdate:hours":a[5]||(a[5]=e=>(0,n.unref)(D)(e)),"onUpdate:minutes":a[6]||(a[6]=e=>(0,n.unref)(D)(e,!1)),"onUpdate:seconds":a[7]||(a[7]=e=>(0,n.unref)(D)(e,!1,!0)),onResetFlow:S,onOverlayClosed:C}),(0,n.createSlots)({_:2},[(0,n.renderList)((0,n.unref)(le),((e,a)=>({name:e,fn:(0,n.withCtx)((a=>[(0,n.renderSlot)(t.$slots,e,(0,n.normalizeProps)((0,n.guardReactiveProps)(a)))]))})))]),1040))])],512),t.showNowButton?((0,n.openBlock)(),(0,n.createElementBlock)("div",Bn,[t.$slots["now-button"]?(0,n.renderSlot)(t.$slots,"now-button",{key:0,selectCurrentDate:(0,n.unref)(J)}):(0,n.createCommentVNode)("",!0),t.$slots["now-button"]?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:a[8]||(a[8]=(...e)=>(0,n.unref)(J)&&(0,n.unref)(J)(...e))},(0,n.toDisplayString)(t.nowButtonLabel),1))])):(0,n.createCommentVNode)("",!0)],2),!t.autoApply||t.keepActionRow?((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(t.actionRowComponent?t.actionRowComponent:Ta),(0,n.mergeProps)({key:2},{calendarWidth:d.value,selectText:t.selectText,cancelText:t.cancelText,internalModelValue:e.internalModelValue,range:t.range,previewFormat:t.previewFormat,inline:t.inline,monthPicker:t.monthPicker,timePicker:t.timePicker,customProps:t.customProps,multiCalendars:e.multiCalendars,menuMount:m.value,maxTime:t.maxTime,minTime:t.minTime,enableTimePicker:t.enableTimePicker,minDate:t.minDate,maxDate:t.maxDate,multiDates:t.multiDates},{onClosePicker:a[9]||(a[9]=e=>t.$emit("closePicker")),onSelectDate:a[10]||(a[10]=e=>t.$emit("selectDate"))}),(0,n.createSlots)({_:2},[(0,n.renderList)((0,n.unref)(ne),((e,a)=>({name:e,fn:(0,n.withCtx)((a=>[(0,n.renderSlot)(t.$slots,e,(0,n.normalizeProps)((0,n.guardReactiveProps)(L({},a))))]))})))]),1040)):(0,n.createCommentVNode)("",!0)],42,_n)])),_:3},8,["name","css"]))}});var Dn=(e=>(e.center="center",e.left="left",e.right="right",e))(Dn||{});const Vn=(e,t,a,l,r,o,u)=>{const i=(0,n.ref)({top:"0",left:"0",transform:"none"}),s=(0,n.ref)(!1),c=10,d=390,m=e=>{const t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY}},p=e=>{const t=e.getBoundingClientRect();let a=0,n=0;for(;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)a+=e.offsetLeft-e.scrollLeft,n=t.top+e.scrollTop,e=e.offsetParent;return{top:n,left:a}},v=(e,t)=>{i.value.left=`${e+t}px`,i.value.transform="translateX(-100%)"},f=e=>{i.value.left=`${e}px`,i.value.transform="translateX(0)"},y=(t,a)=>{e===Dn.left&&f(t),e===Dn.right&&v(t,a),e===Dn.center&&(i.value.left=`${t+a/2}px`,i.value.transform="translateX(-50%)")},k=()=>{const e=Ct(r);if(e){const a=window.innerHeight,{top:n}=t?p(e):m(e),{left:l,width:r,top:o,height:u}=e.getBoundingClientRect(),s=a-o-u;i.value.top=o>s?n-d+"px":`${n}px`,y(l,r)}},h=(e=!0)=>{if(!o){const n=Ct(r);if(t&&"boolean"!=typeof t)i.value=t(n);else if(n){const{left:l,width:r,height:o}=n.getBoundingClientRect(),{top:u}=t?p(n):m(n);i.value.top=`${o+u+c}px`,y(l,r),e&&a&&g()}}},g=()=>{const e=Ct(r);if(e&&a&&!o){const{height:a,top:n,left:r,width:o}=e.getBoundingClientRect(),{top:u}=t?p(e):m(e),d=window.innerHeight-n-a,y=Ct(l);if(y){const{height:e,left:t,right:l}=y.getBoundingClientRect(),m=e+a;m>n&&m>d?n<d&&(h(!1),s.value=!1):m>d?(i.value.top=u-e-c+"px",s.value=!0):(h(!1),s.value=!1),t<0?f(r):l>document.documentElement.clientWidth&&v(r,o)}}u("recalculatePosition")};return{openOnTop:s,menuPosition:i,setMenuPosition:h,setInitialPosition:k,recalculatePosition:g}},Nn=(e,t,a,l,r,o,u,i,s,c,d,m,v,y,k)=>{const h=(0,n.ref)(""),g=(0,n.ref)();(0,n.watch)(g,(()=>{k("internalModelChange",g.value)}));const w=e=>{let n=null;e?t?_a(e)&&"hours"in e[0]&&"minutes"in e[0]?n=[je(null,+e[0].hours,+e[0].minutes,+e[0].seconds),je(null,+e[1].hours,+e[1].minutes,+e[1].seconds)]:ga(e)&&(n=je(null,+e.hours,+e.minutes,+e.seconds)):a?ba(e)&&"month"in e[0]&&"year"in e[0]?(n=[Ye(null,+e[0].month,+e[0].year)],e[1]?n[1]=Ye(null,+e[1].month,+e[1].year):!e[1]&&r&&(n[1]=null)):Ca(e)&&"month"in e&&"year"in e&&(n=Ye(null,+e.month,+e.year)):v?n=(0,f.Z)(new Date,e):c&&Array.isArray(e)?n=e.map((e=>new Date(e))):m&&Array.isArray(e)?n=[new Date(e[0]),new Date(e[1])]:l?Va(e,r)&&(n=[new Date(e[0]),e[1]?new Date(e[1]):null]):xa(e)&&(n=new Date(e)):n=null,Ke(n)?(g.value=n,_()):(g.value=null,h.value="")},_=()=>{if(g.value)if(e&&"string"!=typeof e)h.value=e(t?Xe(g.value):a?We(g.value):g.value);else{const n=Ue(e,o,i,a,t,m,v,u);Array.isArray(g.value)&&c?h.value=g.value.map((e=>Je(e,n,null==s?void 0:s.value))).join("; "):h.value=Je(g.value,n,null==s?void 0:s.value,null==y?void 0:y.rangeSeparator)}else h.value=""};return{parseExternalModelValue:w,formatInputValue:_,internalModelValue:g,inputValue:h,emitModelValue:()=>{if(a)k("update:modelValue",We(g.value));else if(t)k("update:modelValue",Xe(g.value));else if(m)k("update:modelValue",g.value);else if(v)k("update:modelValue",(0,p.Z)(g.value));else{g.value&&l&&r&&1===g.value.length&&g.value.push(null);const e=d?Array.isArray(g.value)?g.value.map((e=>e&&it(e))):it(g.value):g.value;k("update:modelValue",e)}_()},checkBeforeEmit:()=>!!g.value&&(l?r?g.value.length>=1:2===g.value.length:!!g.value)}},xn=typeof window<"u"?window:void 0,Pn=()=>{},Mn=e=>!!(0,n.getCurrentScope)()&&((0,n.onScopeDispose)(e),!0),$n=(e,t,a,l)=>{if(!e)return Pn;let r=Pn;const o=(0,n.watch)((()=>(0,n.unref)(e)),(e=>{r(),e&&(e.addEventListener(t,a,l),r=()=>{e.removeEventListener(t,a,l),r=Pn})}),{immediate:!0,flush:"post"}),u=()=>{o(),r()};return Mn(u),u},An=(e,t,a,n={})=>{const{window:l=xn,event:r="pointerdown"}=n;return l?$n(l,r,(n=>{const l=Ct(e),r=Ct(t);!l||!r||l===n.target||n.composedPath().includes(l)||n.composedPath().includes(r)||a(n)}),{passive:!0}):void 0},Tn=(0,n.defineComponent)({props:L({},Yt),emits:["update:modelValue","textSubmit","closed","cleared","open","focus","blur","internalModelChange","recalculatePosition","flow-step","focus-prev","updateMonthYear"],setup(e,{expose:t,emit:a}){const l=e,r=(0,n.useSlots)(),o=(0,n.ref)(!1),u=(0,n.toRef)(l,"modelValue"),i=(0,n.ref)(null),s=(0,n.ref)(null),c=(0,n.ref)(null),d=(0,n.ref)(null);(0,n.provide)(xt,l.autoApply);const m=(0,n.computed)((()=>l.formatLocale));(0,n.provide)(Mt,m),(0,n.provide)(Pt,(0,n.toRef)(l,"textInput")),(0,n.provide)($t,(0,n.toRef)(l,"arrowNavigation")),(0,n.onMounted)((()=>{S(l.modelValue),l.inline||(window.addEventListener("scroll",j),window.addEventListener("resize",Y)),l.inline&&(o.value=!0)})),(0,n.onUnmounted)((()=>{l.inline||(window.removeEventListener("scroll",j),window.removeEventListener("resize",Y))}));const p=Ja(r,"all"),v=Ja(r,"input");(0,n.watch)(u,(()=>{S(u.value)}),{deep:!0});const{openOnTop:f,menuPosition:g,setMenuPosition:w,recalculatePosition:_,setInitialPosition:b}=Vn(l.position,l.altPosition,l.autoPosition,i,s,l.inline,a),{internalModelValue:C,inputValue:B,parseExternalModelValue:S,emitModelValue:D,checkBeforeEmit:V,formatInputValue:N}=Nn(l.format,l.timePicker,l.monthPicker,l.range,l.partialRange,l.is24,l.enableTimePicker,l.enableSeconds,m,l.multiDates,l.utc,l.weekPicker,l.yearPicker,l.textInputOptions,a),{clearArrowNav:x}=ia(),{setMenuFocused:P,setShiftKey:M}=Gt(),$=(0,n.computed)((()=>({dp__main:!0,dp__theme_dark:l.dark,dp__theme_light:!l.dark,dp__flex_display:l.inline,dp__flex_display_with_input:l.inlineWithInput}))),A=(0,n.computed)((()=>Pa(l.format)?l.format:Ue(null,l.is24,l.enableSeconds,l.monthPicker,l.timePicker,l.weekPicker,l.yearPicker,l.enableTimePicker))),T=(0,n.computed)((()=>l.previewFormat?l.previewFormat:Pa(A.value)?A.value:l.format)),E=(0,n.computed)((()=>"boolean"==typeof l.transitions?!!l.transitions&&St({}):St(l.transitions)));(0,n.provide)(Nt,E);const Z=(0,n.computed)((()=>l.dark?"dp__theme_dark":"dp__theme_light")),O=(0,n.computed)((()=>Object.assign(wt(),l.textInputOptions))),R=(0,n.computed)((()=>Dt(l.ariaLabels)));(0,n.provide)(Vt,R);const I=(0,n.computed)((()=>_t(l.filters))),F=(0,n.computed)((()=>{const e=e=>{const t={hours:(0,y.Z)(new Date),minutes:(0,k.Z)(new Date),seconds:(0,h.Z)(new Date)};return Object.assign(t,e)};return l.range?l.startTime&&Array.isArray(l.startTime)?[e(l.startTime[0]),e(l.startTime[1])]:null:l.startTime&&!Array.isArray(l.startTime)?e(l.startTime):null})),K=(0,n.computed)((()=>null===l.multiCalendars?0:"boolean"==typeof l.multiCalendars?l.multiCalendars?2:0:+l.multiCalendars>=2?+l.multiCalendars:2)),j=()=>{o.value&&(l.closeOnScroll?J():l.autoPosition?w():window.removeEventListener("scroll",j))},Y=()=>{o.value&&w()},z=()=>{!l.disabled&&!l.readonly&&(b(),o.value=!0,(0,n.nextTick)().then((()=>{w(),o.value&&(a("open"),a("focus"))})),o.value||q(),S(l.modelValue))},U=()=>{B.value="",q(),a("update:modelValue",null),a("cleared"),J()},H=()=>{const{validate:e}=mt(l.minDate,l.maxDate,l.disabledDates,l.allowedDates,I.value,l.disabledWeekDays,l.yearRange),t=C.value;return!(Array.isArray(t)||!e(t))||!!Array.isArray(t)&&(!(2!==t.length||!e(t[0])||!e(t[1]))||!!e(t[0]))},G=()=>{V()&&H()&&(D(),J())},W=e=>{D(),l.closeOnAutoApply&&!e&&J()},X=(e=!1)=>{l.autoApply&&(!l.enableTimePicker||l.monthPicker||l.yearPicker||ot(C.value,l.maxTime,l.minTime))&&H()&&(l.range&&Array.isArray(C.value)?(l.partialRange||2===C.value.length)&&W(e):W(e))},q=()=>{C.value=null},J=()=>{l.inline||(o.value&&(o.value=!1,P(!1),M(!1),x(),a("closed"),a("blur"),b(),B.value&&S(u.value)),q(),s.value&&s.value.unFocus(),te())},Q=(e,t)=>{e?(C.value=e,t&&(G(),a("textSubmit"))):C.value=null},ee=()=>{l.autoApply&&ot(C.value,l.maxTime,l.minTime)&&D()},te=()=>{c.value&&c.value.focus({preventScroll:!0})},ae=()=>o.value?J():z();return An(i,s,J),t({closeMenu:J,selectDate:G,clearValue:U,openMenu:z,onScroll:j,formatInputValue:N}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)((0,n.unref)($))},[(0,n.createElementVNode)("span",{tabindex:"-1",ref_key:"focusRefBefore",ref:d},null,512),(0,n.createVNode)(Qt,(0,n.mergeProps)({ref_key:"inputRef",ref:s},{placeholder:e.placeholder,hideInputIcon:e.hideInputIcon,readonly:e.readonly,disabled:e.disabled,inputClassName:e.inputClassName,clearable:e.clearable,state:e.state,inline:e.inline,inlineWithInput:e.inlineWithInput,textInput:e.textInput,textInputOptions:(0,n.unref)(O),range:e.range,isMenuOpen:o.value,pattern:(0,n.unref)(A),autoApply:e.autoApply,uid:e.uid,openMenuOnFocus:e.openMenuOnFocus,required:e.required,name:e.name,autocomplete:e.autocomplete},{"input-value":(0,n.unref)(B),"onUpdate:input-value":t[0]||(t[0]=e=>(0,n.isRef)(B)?B.value=e:null),onClear:U,onOpen:z,onSetInputDate:Q,onSetEmptyDate:(0,n.unref)(D),onSelectDate:G,onToggle:ae,onClose:J,onFocusPrev:t[1]||(t[1]=t=>e.$emit("focus-prev"))}),(0,n.createSlots)({_:2},[(0,n.renderList)((0,n.unref)(v),((t,a)=>({name:t,fn:(0,n.withCtx)((a=>[(0,n.renderSlot)(e.$slots,t,(0,n.normalizeProps)((0,n.guardReactiveProps)(a)))]))})))]),1040,["input-value","onSetEmptyDate"]),(0,n.createElementVNode)("span",{tabindex:"-1",ref_key:"focusRef",ref:c},null,512),o.value?((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{key:0,to:e.teleport,disabled:e.inline},[o.value?((0,n.openBlock)(),(0,n.createBlock)(Sn,(0,n.mergeProps)({key:0,ref_key:"dpMenuRef",ref:i,class:(0,n.unref)(Z),style:(0,n.unref)(g)},{weekNumbers:e.weekNumbers,weekStart:e.weekStart,disableMonthYearSelect:e.disableMonthYearSelect,menuClassName:e.menuClassName,calendarClassName:e.calendarClassName,yearRange:e.yearRange,range:e.range,multiCalendars:(0,n.unref)(K),multiCalendarsSolo:e.multiCalendarsSolo,multiStatic:e.multiStatic,calendarCellClassName:e.calendarCellClassName,enableTimePicker:e.enableTimePicker,is24:e.is24,hoursIncrement:e.hoursIncrement,minutesIncrement:e.minutesIncrement,hoursGridIncrement:e.hoursGridIncrement,minutesGridIncrement:e.minutesGridIncrement,minDate:e.minDate,maxDate:e.maxDate,autoApply:e.autoApply,selectText:e.selectText,cancelText:e.cancelText,previewFormat:(0,n.unref)(T),locale:e.locale,weekNumName:e.weekNumName,disabledDates:e.disabledDates,filters:(0,n.unref)(I),minTime:e.minTime,maxTime:e.maxTime,inline:e.inline,openOnTop:(0,n.unref)(f),monthPicker:e.monthPicker,timePicker:e.timePicker,monthNameFormat:e.monthNameFormat,startDate:e.startDate,startTime:(0,n.unref)(F),monthYearComponent:e.monthYearComponent,timePickerComponent:e.timePickerComponent,actionRowComponent:e.actionRowComponent,customProps:e.customProps,hideOffsetDates:e.hideOffsetDates,autoRange:e.autoRange,noToday:e.noToday,noHoursOverlay:e.noHoursOverlay,noMinutesOverlay:e.noMinutesOverlay,disabledWeekDays:e.disabledWeekDays,allowedDates:e.allowedDates,showNowButton:e.showNowButton,nowButtonLabel:e.nowButtonLabel,monthChangeOnScroll:e.monthChangeOnScroll,markers:e.markers,uid:e.uid,modeHeight:e.modeHeight,enableSeconds:e.enableSeconds,secondsIncrement:e.secondsIncrement,secondsGridIncrement:e.secondsGridIncrement,noSecondsOverlay:e.noSecondsOverlay,escClose:e.escClose,spaceConfirm:e.spaceConfirm,monthChangeOnArrows:e.monthChangeOnArrows,textInput:e.textInput,disabled:e.disabled,readonly:e.readonly,multiDates:e.multiDates,presetRanges:e.presetRanges,flow:e.flow,preventMinMaxNavigation:e.preventMinMaxNavigation,minRange:e.minRange,maxRange:e.maxRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd,multiDatesLimit:e.multiDatesLimit,reverseYears:e.reverseYears,keepActionRow:e.keepActionRow,weekPicker:e.weekPicker,noSwipe:e.noSwipe,vertical:e.vertical,arrowNavigation:e.arrowNavigation,yearPicker:e.yearPicker},{internalModelValue:(0,n.unref)(C),"onUpdate:internalModelValue":t[2]||(t[2]=e=>(0,n.isRef)(C)?C.value=e:null),onClosePicker:J,onSelectDate:G,onDpOpen:(0,n.unref)(_),onAutoApply:X,onTimeUpdate:ee,onFlowStep:t[3]||(t[3]=t=>e.$emit("flow-step",t)),onUpdateMonthYear:t[4]||(t[4]=t=>e.$emit("updateMonthYear",t))}),(0,n.createSlots)({_:2},[(0,n.renderList)((0,n.unref)(p),((t,a)=>({name:t,fn:(0,n.withCtx)((a=>[(0,n.renderSlot)(e.$slots,t,(0,n.normalizeProps)((0,n.guardReactiveProps)(L({},a))))]))})))]),1040,["class","style","internalModelValue","onDpOpen"])):(0,n.createCommentVNode)("",!0)],8,["to","disabled"])):(0,n.createCommentVNode)("",!0)],2))}});var En=(()=>{const e=Tn;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),Zn=Object.freeze(Object.defineProperty({__proto__:null,default:En},Symbol.toStringTag,{value:"Module"}));Object.entries(Zn).forEach((([e,t])=>{"default"!==e&&(En[e]=t)}))}}]);