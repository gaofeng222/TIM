"use strict";(self["webpackChunkchat_example"]=self["webpackChunkchat_example"]||[]).push([[377],{3377:function(e,t,o){o.r(t),o.d(t,{default:function(){return T}});var l=o(311),a=o(5652),n=o(1158);const c=e=>((0,l.pushScopeId)("data-v-6c65f71a"),e=e(),(0,l.popScopeId)(),e),r={class:"cart-footer"},s={class:"cart-footer_left"},d={class:"cart-footer_left_f"},i={class:"chose"},p=c((()=>(0,l.createElementVNode)("p",{class:"bbb"},"已节省：￥- 00.00",-1))),u={class:"cart-footer_right"},m={class:"uls4b"};var g=(0,l.defineComponent)({__name:"index",props:{money:{default:0},goodCount:{default:0}},setup(e){const t=e,o=()=>{n.ElMessageBox.alert(`总金额为：${t.money}`,"温馨提示",{confirmButtonText:"确认",callback:e=>{"cancel"==e?(0,n.ElMessage)({type:"info",message:"取消成功 "}):(0,n.ElMessage)({type:"info",message:"提交成功"})}})},{money:a}=(0,l.toRefs)(t);return(t,n)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("p",d,[(0,l.createTextVNode)(" 已选择"),(0,l.createElementVNode)("i",i,(0,l.toDisplayString)(e.goodCount),1),(0,l.createTextVNode)("件商品 ")]),p]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("span",null,"总价：￥"+(0,l.toDisplayString)((0,l.unref)(a)),1),(0,l.createElementVNode)("span",{class:"btn",onClick:o},"去结算")])])]))}}),f=o(3744);const N=(0,f.Z)(g,[["__scopeId","data-v-6c65f71a"]]);var V=N,x=o(7476);const h=(0,x.Q_)("goods",{state:()=>({goods:[{gName:"七天挑战瘦20斤 懒人福音 断油阻脂 逆袭女神 超模内部专用",url:"https://s1.ax1x.com/2023/03/19/ppY40BR.jpg",count:1,price:"396.00"},{gName:"品牌断码男鞋运动鞋男2022秋季网面透气休闲鞋男士防滑轻便跑步鞋",url:"https://s1.ax1x.com/2023/03/19/ppY4wu9.jpg",count:1,price:"298.00"}]}),actions:{deleteHandle(e){console.log("index",e),this.goods.splice(e,1)}}}),w=e=>((0,l.pushScopeId)("data-v-2fcc793a"),e=e(),(0,l.popScopeId)(),e),C={class:"goods"},v={style:{display:"flex","align-items":"center"}},b=["src"],y={style:{"margin-left":"10px"}},_=w((()=>(0,l.createElementVNode)("p",null,"确认删除该项吗?",-1))),E={style:{"text-align":"right",margin:"0"}};var k=(0,l.defineComponent)({__name:"index",setup(e){const t=h(),o=(0,l.reactive)({tableData:t.goods,srcList:[],multipleSelection:[]}),n=e=>{o.multipleSelection=e},c=e=>{};console.log(t.goods,"useGoods");const r=e=>{e.row.visible=!0},s=e=>{t.deleteHandle(e)},d=t.$onAction((({name:e,store:t,after:o})=>{console.log(e,t),console.log((0,l.toRaw)(t.goods).length,"111"),o((e=>{console.log(e,"result"),console.log((0,l.toRaw)(t.goods).length,"222")}))})),i=(0,l.computed)((()=>{let e=0;return o.multipleSelection.reduce(((t,o)=>(e+=o.count*Number(o.price),t)),e),e})),p=(0,l.computed)((()=>{let e=0;return o.multipleSelection.reduce(((t,o)=>(e+=o.count,t)),e),e}));(0,l.onUnmounted)((()=>{d()}));const{tableData:u,srcList:m}=(0,l.toRefs)(o);return(e,t)=>{const o=(0,l.resolveComponent)("el-table-column"),d=(0,l.resolveComponent)("el-input-number"),m=(0,l.resolveComponent)("el-button"),g=(0,l.resolveComponent)("el-popover"),f=(0,l.resolveComponent)("el-table");return(0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,[(0,l.createVNode)(a.Z),(0,l.createElementVNode)("div",C,[(0,l.createVNode)(f,{ref:"multipleTableRef",data:(0,l.unref)(u),onSelectionChange:n,class:"goods-table","empty-text":"暂时没有数据"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(o,{type:"selection",width:"55"}),(0,l.createVNode)(o,{label:"商品",width:"320","show-overflow-tooltip":"",align:"center"},{default:(0,l.withCtx)((e=>[(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("img",{style:{width:"100px",height:"100px"},src:e.row.url},null,8,b),(0,l.createElementVNode)("span",y,(0,l.toDisplayString)(e.row.gName),1)])])),_:1}),(0,l.createVNode)(o,{property:"price",label:"单价",width:"120",align:"center"},{default:(0,l.withCtx)((e=>[(0,l.createTextVNode)(" ￥ "+(0,l.toDisplayString)(e.row.price),1)])),_:1}),(0,l.createVNode)(o,{property:"count",label:"数量",width:"220",align:"center"},{default:(0,l.withCtx)((e=>[(0,l.createVNode)(d,{modelValue:e.row.count,"onUpdate:modelValue":t=>e.row.count=t,min:1,max:10,onChange:c},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,l.createVNode)(o,{property:"total",label:"小计",align:"center"},{default:(0,l.withCtx)((e=>[(0,l.createTextVNode)(" ￥ "+(0,l.toDisplayString)(e.row.price*e.row.count),1)])),_:1}),(0,l.createVNode)(o,{property:"actions",label:"操作",align:"center"},{default:(0,l.withCtx)((e=>[(0,l.createVNode)(g,{visible:e.row.visible,placement:"top",width:160},{reference:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{size:"small",type:"danger",onClick:t=>r(e)},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)("删除")])),_:2},1032,["onClick"])])),default:(0,l.withCtx)((()=>[_,(0,l.createElementVNode)("div",E,[(0,l.createVNode)(m,{size:"small",text:"",onClick:t=>e.row.visible=!1},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)("取消")])),_:2},1032,["onClick"]),(0,l.createVNode)(m,{size:"small",type:"primary",onClick:t=>s(e.$index)},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)("确认")])),_:2},1032,["onClick"])])])),_:2},1032,["visible"])])),_:1})])),_:1},8,["data"])]),(0,l.createVNode)(V,{money:(0,l.unref)(i),goodCount:(0,l.unref)(p)},null,8,["money","goodCount"])],64)}}});const S=(0,f.Z)(k,[["__scopeId","data-v-2fcc793a"]]);var T=S}}]);